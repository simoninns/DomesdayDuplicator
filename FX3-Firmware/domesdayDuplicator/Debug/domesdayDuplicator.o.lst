   1              		.cpu arm926ej-s
   2              		.fpu softvfp
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 34, 0
  11              		.eabi_attribute 18, 4
  12              		.file	"domesdayDuplicator.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.global	CyFxGpifTransition
  17              		.data
  18              		.align	2
  21              	CyFxGpifTransition:
  22 0000 0000     		.short	0
  23 0002 AAAA     		.short	-21846
  24 0004 5555     		.short	21845
  25              		.global	CyFxGpifWavedata
  26 0006 0000     		.align	2
  29              	CyFxGpifWavedata:
  30 0008 0180731E 		.word	510885889
  31 000c 00010000 		.word	256
  32 0010 00000080 		.word	-2147483648
  33 0014 00000000 		.word	0
  34 0018 00000000 		.word	0
  35 001c 00000000 		.word	0
  36 0020 0280732E 		.word	779321346
  37 0024 00000020 		.word	536870912
  38 0028 00000080 		.word	-2147483648
  39 002c 00000000 		.word	0
  40 0030 00000000 		.word	0
  41 0034 00000000 		.word	0
  42              		.global	CyFxGpifWavedataPosition
  43              		.align	2
  46              	CyFxGpifWavedataPosition:
  47 0038 00       		.byte	0
  48 0039 01       		.byte	1
  49 003a 00       		.byte	0
  50              		.global	CyFxGpifRegValue
  51 003b 00       		.align	2
  54              	CyFxGpifRegValue:
  55 003c 00830080 		.word	-2147450112
  56 0040 67000000 		.word	103
  57 0044 00000000 		.word	0
  58 0048 46000000 		.word	70
  59 004c 00000000 		.word	0
  60 0050 00000000 		.word	0
  61 0054 00000000 		.word	0
  62 0058 82000000 		.word	130
  63 005c 82070000 		.word	1922
  64 0060 54001000 		.word	1048660
  65 0064 F1FF0000 		.word	65521
  66 0068 0D000000 		.word	13
  67 006c 00000000 		.word	0
  68 0070 00000000 		.word	0
  69 0074 01000000 		.word	1
  70 0078 10000000 		.word	16
  71 007c 14000000 		.word	20
  72 0080 00000000 		.word	0
  73 0084 00000000 		.word	0
  74 0088 00000000 		.word	0
  75 008c 00000000 		.word	0
  76 0090 00000000 		.word	0
  77 0094 00000000 		.word	0
  78 0098 00000000 		.word	0
  79 009c 00000000 		.word	0
  80 00a0 00000000 		.word	0
  81 00a4 00000000 		.word	0
  82 00a8 00000000 		.word	0
  83 00ac 00000000 		.word	0
  84 00b0 06000000 		.word	6
  85 00b4 00000000 		.word	0
  86 00b8 FFFF0000 		.word	65535
  87 00bc 0A010000 		.word	266
  88 00c0 00000000 		.word	0
  89 00c4 FFFF0000 		.word	65535
  90 00c8 00000000 		.word	0
  91 00cc FFFF0000 		.word	65535
  92 00d0 0A010000 		.word	266
  93 00d4 00000000 		.word	0
  94 00d8 FFFF0000 		.word	65535
  95 00dc 00000000 		.word	0
  96 00e0 00000000 		.word	0
  97 00e4 00000000 		.word	0
  98 00e8 00000000 		.word	0
  99 00ec 00000000 		.word	0
 100 00f0 00000000 		.word	0
 101 00f4 00000000 		.word	0
 102 00f8 00000000 		.word	0
 103 00fc 00000000 		.word	0
 104 0100 00000000 		.word	0
 105 0104 00000000 		.word	0
 106 0108 00000000 		.word	0
 107 010c 00000000 		.word	0
 108 0110 00000000 		.word	0
 109 0114 00000000 		.word	0
 110 0118 00000000 		.word	0
 111 011c 00000000 		.word	0
 112 0120 00000000 		.word	0
 113 0124 00000000 		.word	0
 114 0128 00000000 		.word	0
 115 012c 00000000 		.word	0
 116 0130 00000000 		.word	0
 117 0134 00000000 		.word	0
 118 0138 00040180 		.word	-2147417088
 119 013c 01040180 		.word	-2147417087
 120 0140 02040180 		.word	-2147417086
 121 0144 03040180 		.word	-2147417085
 122 0148 00000000 		.word	0
 123 014c 00000000 		.word	0
 124 0150 00000000 		.word	0
 125 0154 00000000 		.word	0
 126 0158 00000000 		.word	0
 127 015c 00000000 		.word	0
 128 0160 00000000 		.word	0
 129 0164 00000000 		.word	0
 130 0168 C1FFFFFF 		.word	-63
 131              		.global	CyFxGpifConfig
 132              		.section	.rodata
 133              		.align	2
 136              	CyFxGpifConfig:
 137 0000 0300     		.short	3
 138 0002 0000     		.space	2
 139 0004 00000000 		.word	CyFxGpifWavedata
 140 0008 00000000 		.word	CyFxGpifWavedataPosition
 141 000c 0300     		.short	3
 142 000e 0000     		.space	2
 143 0010 00000000 		.word	CyFxGpifTransition
 144 0014 4C00     		.short	76
 145 0016 0000     		.space	2
 146 0018 00000000 		.word	CyFxGpifRegValue
 147              		.comm	glAppThread,168,4
 148              		.comm	glDmaChHandle,172,4
 149              		.global	glIsApplnActive
 150              		.bss
 151              		.align	2
 154              	glIsApplnActive:
 155 0000 00000000 		.space	4
 156              		.global	glForceLinkU2
 157              		.align	2
 160              	glForceLinkU2:
 161 0004 00000000 		.space	4
 162              		.text
 163              		.align	2
 164              		.global	main
 166              	main:
 167              	.LFB0:
 168              		.file 1 "../domesdayDuplicator.c"
   1:../domesdayDuplicator.c **** /************************************************************************
   2:../domesdayDuplicator.c **** 
   3:../domesdayDuplicator.c **** 	domesdayDuplicator.c
   4:../domesdayDuplicator.c **** 
   5:../domesdayDuplicator.c **** 	FX3 Firmware main functions
   6:../domesdayDuplicator.c **** 	DomesdayDuplicator - LaserDisc RF sampler
   7:../domesdayDuplicator.c **** 	Copyright (C) 2017 Simon Inns
   8:../domesdayDuplicator.c **** 
   9:../domesdayDuplicator.c **** 	This file is part of Domesday Duplicator.
  10:../domesdayDuplicator.c **** 
  11:../domesdayDuplicator.c **** 	Domesday Duplicator is free software: you can redistribute it and/or
  12:../domesdayDuplicator.c **** 	modify it under the terms of the GNU General Public License as
  13:../domesdayDuplicator.c **** 	published by the Free Software Foundation, either version 3 of the
  14:../domesdayDuplicator.c **** 	License, or (at your option) any later version.
  15:../domesdayDuplicator.c **** 
  16:../domesdayDuplicator.c **** 	This program is distributed in the hope that it will be useful,
  17:../domesdayDuplicator.c **** 	but WITHOUT ANY WARRANTY; without even the implied warranty of
  18:../domesdayDuplicator.c **** 	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  19:../domesdayDuplicator.c **** 	GNU General Public License for more details.
  20:../domesdayDuplicator.c **** 
  21:../domesdayDuplicator.c **** 	You should have received a copy of the GNU General Public License
  22:../domesdayDuplicator.c **** 	along with this program.  If not, see <http://www.gnu.org/licenses/>.
  23:../domesdayDuplicator.c **** 	Email: simon.inns@gmail.com
  24:../domesdayDuplicator.c **** 
  25:../domesdayDuplicator.c **** ************************************************************************/
  26:../domesdayDuplicator.c **** 
  27:../domesdayDuplicator.c **** // External includes
  28:../domesdayDuplicator.c **** #include "cyu3system.h"
  29:../domesdayDuplicator.c **** #include "cyu3os.h"
  30:../domesdayDuplicator.c **** #include "cyu3dma.h"
  31:../domesdayDuplicator.c **** #include "cyu3error.h"
  32:../domesdayDuplicator.c **** #include "cyu3usb.h"
  33:../domesdayDuplicator.c **** #include "cyu3uart.h"
  34:../domesdayDuplicator.c **** #include "cyu3gpio.h"
  35:../domesdayDuplicator.c **** #include "cyu3utils.h"
  36:../domesdayDuplicator.c **** #include "cyu3pib.h"
  37:../domesdayDuplicator.c **** #include "cyu3gpif.h"
  38:../domesdayDuplicator.c **** 
  39:../domesdayDuplicator.c **** // Local includes
  40:../domesdayDuplicator.c **** #include "domesdayDuplicator.h"
  41:../domesdayDuplicator.c **** #include "domesdayDuplicatorGpif.h"
  42:../domesdayDuplicator.c **** 
  43:../domesdayDuplicator.c **** // Global definitions
  44:../domesdayDuplicator.c **** CyU3PThread glAppThread; // Application thread structure
  45:../domesdayDuplicator.c **** CyU3PDmaChannel glDmaChHandle; // DMA channel handle
  46:../domesdayDuplicator.c **** 
  47:../domesdayDuplicator.c **** CyBool_t glIsApplnActive = CyFalse; // Application active/ready flag
  48:../domesdayDuplicator.c **** CyBool_t glForceLinkU2 = CyFalse; // Force U2 flag
  49:../domesdayDuplicator.c **** 
  50:../domesdayDuplicator.c **** // Main application function
  51:../domesdayDuplicator.c **** int main(void)
  52:../domesdayDuplicator.c **** {
 169              		.loc 1 52 0
 170              		.cfi_startproc
 171              		@ args = 0, pretend = 0, frame = 112
 172              		@ frame_needed = 1, uses_anonymous_args = 0
 173 0000 00482DE9 		stmfd	sp!, {fp, lr}
 174              	.LCFI0:
 175              		.cfi_def_cfa_offset 8
 176              		.cfi_offset 11, -8
 177              		.cfi_offset 14, -4
 178 0004 04B08DE2 		add	fp, sp, #4
 179              	.LCFI1:
 180              		.cfi_def_cfa 11, 4
 181 0008 70D04DE2 		sub	sp, sp, #112
  53:../domesdayDuplicator.c ****     CyU3PIoMatrixConfig_t io_cfg;
  54:../domesdayDuplicator.c ****     CyU3PPibClock_t pibClock;
  55:../domesdayDuplicator.c ****     CyU3PGpioClock_t gpioClock;
  56:../domesdayDuplicator.c ****     CyU3PGpioSimpleConfig_t gpioConfig;
  57:../domesdayDuplicator.c ****     CyU3PReturnStatus_t status = CY_U3P_SUCCESS;
 182              		.loc 1 57 0
 183 000c 0030A0E3 		mov	r3, #0
 184 0010 08300BE5 		str	r3, [fp, #-8]
  58:../domesdayDuplicator.c **** 
  59:../domesdayDuplicator.c ****     // Perform initial clock configuration of the FX3
  60:../domesdayDuplicator.c ****     CyU3PSysClockConfig_t clockConfig;
  61:../domesdayDuplicator.c ****     clockConfig.setSysClk400  = CyTrue; // True = 403.2 MHz, false = 384 MHz
 185              		.loc 1 61 0
 186 0014 0130A0E3 		mov	r3, #1
 187 0018 70300BE5 		str	r3, [fp, #-112]
  62:../domesdayDuplicator.c ****     clockConfig.cpuClkDiv     = 2;
 188              		.loc 1 62 0
 189 001c 0230A0E3 		mov	r3, #2
 190 0020 6C304BE5 		strb	r3, [fp, #-108]
  63:../domesdayDuplicator.c ****     clockConfig.dmaClkDiv     = 2;
 191              		.loc 1 63 0
 192 0024 0230A0E3 		mov	r3, #2
 193 0028 6B304BE5 		strb	r3, [fp, #-107]
  64:../domesdayDuplicator.c ****     clockConfig.mmioClkDiv    = 2;
 194              		.loc 1 64 0
 195 002c 0230A0E3 		mov	r3, #2
 196 0030 6A304BE5 		strb	r3, [fp, #-106]
  65:../domesdayDuplicator.c ****     clockConfig.useStandbyClk = CyFalse;
 197              		.loc 1 65 0
 198 0034 0030A0E3 		mov	r3, #0
 199 0038 68300BE5 		str	r3, [fp, #-104]
  66:../domesdayDuplicator.c ****     clockConfig.clkSrc        = CY_U3P_SYS_CLK;
 200              		.loc 1 66 0
 201 003c 0330A0E3 		mov	r3, #3
 202 0040 64304BE5 		strb	r3, [fp, #-100]
  67:../domesdayDuplicator.c ****     status = CyU3PDeviceInit(&clockConfig);
 203              		.loc 1 67 0
 204 0044 70304BE2 		sub	r3, fp, #112
 205 0048 0300A0E1 		mov	r0, r3
 206 004c FEFFFFEB 		bl	CyU3PDeviceInit
 207 0050 08000BE5 		str	r0, [fp, #-8]
  68:../domesdayDuplicator.c ****     if (status != CY_U3P_SUCCESS) {
 208              		.loc 1 68 0
 209 0054 08301BE5 		ldr	r3, [fp, #-8]
 210 0058 000053E3 		cmp	r3, #0
 211 005c 0000000A 		beq	.L2
  69:../domesdayDuplicator.c ****         goto handleFatalError;
 212              		.loc 1 69 0
 213 0060 7B0000EA 		b	.L3
 214              	.L2:
  70:../domesdayDuplicator.c ****     }
  71:../domesdayDuplicator.c **** 
  72:../domesdayDuplicator.c ****     // Start GPIF clocks, they need to be running before we attach a DMA channel to GPIF
  73:../domesdayDuplicator.c **** 	pibClock.clkDiv = 4; // 403.2 / 4 = 100.8 MHz
 215              		.loc 1 73 0
 216 0064 0430A0E3 		mov	r3, #4
 217 0068 B0344BE1 		strh	r3, [fp, #-64]	@ movhi
  74:../domesdayDuplicator.c **** 	pibClock.clkSrc = CY_U3P_SYS_CLK;
 218              		.loc 1 74 0
 219 006c 0330A0E3 		mov	r3, #3
 220 0070 34304BE5 		strb	r3, [fp, #-52]
  75:../domesdayDuplicator.c **** 	pibClock.isHalfDiv = CyFalse;
 221              		.loc 1 75 0
 222 0074 0030A0E3 		mov	r3, #0
 223 0078 3C300BE5 		str	r3, [fp, #-60]
  76:../domesdayDuplicator.c **** 	pibClock.isDllEnable = CyFalse; // Disable Dll (not required for synchronous applications)
 224              		.loc 1 76 0
 225 007c 0030A0E3 		mov	r3, #0
 226 0080 38300BE5 		str	r3, [fp, #-56]
  77:../domesdayDuplicator.c **** 	status = CyU3PPibInit(CyTrue, &pibClock);
 227              		.loc 1 77 0
 228 0084 40304BE2 		sub	r3, fp, #64
 229 0088 0100A0E3 		mov	r0, #1
 230 008c 0310A0E1 		mov	r1, r3
 231 0090 FEFFFFEB 		bl	CyU3PPibInit
 232 0094 08000BE5 		str	r0, [fp, #-8]
  78:../domesdayDuplicator.c **** 	if (status != CY_U3P_SUCCESS) {
 233              		.loc 1 78 0
 234 0098 08301BE5 		ldr	r3, [fp, #-8]
 235 009c 000053E3 		cmp	r3, #0
 236 00a0 0000000A 		beq	.L4
  79:../domesdayDuplicator.c **** 		goto handleFatalError;
 237              		.loc 1 79 0
 238 00a4 6A0000EA 		b	.L3
 239              	.L4:
  80:../domesdayDuplicator.c **** 	}
  81:../domesdayDuplicator.c **** 
  82:../domesdayDuplicator.c ****     // Initialise the state of the caches - Icache, Dcache, DMAcache
  83:../domesdayDuplicator.c ****     status = CyU3PDeviceCacheControl(CyTrue, CyFalse, CyFalse);
 240              		.loc 1 83 0
 241 00a8 0100A0E3 		mov	r0, #1
 242 00ac 0010A0E3 		mov	r1, #0
 243 00b0 0020A0E3 		mov	r2, #0
 244 00b4 FEFFFFEB 		bl	CyU3PDeviceCacheControl
 245 00b8 08000BE5 		str	r0, [fp, #-8]
  84:../domesdayDuplicator.c ****     if (status != CY_U3P_SUCCESS) {
 246              		.loc 1 84 0
 247 00bc 08301BE5 		ldr	r3, [fp, #-8]
 248 00c0 000053E3 		cmp	r3, #0
 249 00c4 0000000A 		beq	.L5
  85:../domesdayDuplicator.c ****         goto handleFatalError;
 250              		.loc 1 85 0
 251 00c8 610000EA 		b	.L3
 252              	.L5:
  86:../domesdayDuplicator.c ****     }
  87:../domesdayDuplicator.c **** 
  88:../domesdayDuplicator.c ****     // Initialise the IO matrix
  89:../domesdayDuplicator.c ****     io_cfg.isDQ32Bit = CyFalse; // Data bus is 16-bits
 253              		.loc 1 89 0
 254 00cc 0030A0E3 		mov	r3, #0
 255 00d0 30300BE5 		str	r3, [fp, #-48]
  90:../domesdayDuplicator.c ****     io_cfg.useUart   = CyTrue;
 256              		.loc 1 90 0
 257 00d4 0130A0E3 		mov	r3, #1
 258 00d8 2C300BE5 		str	r3, [fp, #-44]
  91:../domesdayDuplicator.c ****     io_cfg.useI2C    = CyFalse;
 259              		.loc 1 91 0
 260 00dc 0030A0E3 		mov	r3, #0
 261 00e0 28300BE5 		str	r3, [fp, #-40]
  92:../domesdayDuplicator.c ****     io_cfg.useI2S    = CyFalse;
 262              		.loc 1 92 0
 263 00e4 0030A0E3 		mov	r3, #0
 264 00e8 24300BE5 		str	r3, [fp, #-36]
  93:../domesdayDuplicator.c ****     io_cfg.useSpi    = CyFalse;
 265              		.loc 1 93 0
 266 00ec 0030A0E3 		mov	r3, #0
 267 00f0 20300BE5 		str	r3, [fp, #-32]
  94:../domesdayDuplicator.c ****     io_cfg.lppMode   = CY_U3P_IO_MATRIX_LPP_UART_ONLY; // 16-bit data bus with UART
 268              		.loc 1 94 0
 269 00f4 0130A0E3 		mov	r3, #1
 270 00f8 1A304BE5 		strb	r3, [fp, #-26]
  95:../domesdayDuplicator.c ****     status = CyU3PDeviceConfigureIOMatrix(&io_cfg);
 271              		.loc 1 95 0
 272 00fc 30304BE2 		sub	r3, fp, #48
 273 0100 0300A0E1 		mov	r0, r3
 274 0104 FEFFFFEB 		bl	CyU3PDeviceConfigureIOMatrix
 275 0108 08000BE5 		str	r0, [fp, #-8]
  96:../domesdayDuplicator.c ****     if (status != CY_U3P_SUCCESS) {
 276              		.loc 1 96 0
 277 010c 08301BE5 		ldr	r3, [fp, #-8]
 278 0110 000053E3 		cmp	r3, #0
 279 0114 0000000A 		beq	.L6
  97:../domesdayDuplicator.c ****         goto handleFatalError;
 280              		.loc 1 97 0
 281 0118 4D0000EA 		b	.L3
 282              	.L6:
  98:../domesdayDuplicator.c ****     }
  99:../domesdayDuplicator.c **** 
 100:../domesdayDuplicator.c ****     // Initialise the GPIO module clocks, needed for nRESET towards FPGA
 101:../domesdayDuplicator.c **** 	gpioClock.fastClkDiv = 2;
 283              		.loc 1 101 0
 284 011c 0230A0E3 		mov	r3, #2
 285 0120 4C304BE5 		strb	r3, [fp, #-76]
 102:../domesdayDuplicator.c **** 	gpioClock.slowClkDiv = 0;
 286              		.loc 1 102 0
 287 0124 0030A0E3 		mov	r3, #0
 288 0128 4B304BE5 		strb	r3, [fp, #-75]
 103:../domesdayDuplicator.c **** 	gpioClock.simpleDiv = CY_U3P_GPIO_SIMPLE_DIV_BY_2;
 289              		.loc 1 103 0
 290 012c 0030A0E3 		mov	r3, #0
 291 0130 44304BE5 		strb	r3, [fp, #-68]
 104:../domesdayDuplicator.c **** 	gpioClock.clkSrc = CY_U3P_SYS_CLK;
 292              		.loc 1 104 0
 293 0134 0330A0E3 		mov	r3, #3
 294 0138 43304BE5 		strb	r3, [fp, #-67]
 105:../domesdayDuplicator.c **** 	gpioClock.halfDiv = 0;
 295              		.loc 1 105 0
 296 013c 0030A0E3 		mov	r3, #0
 297 0140 48300BE5 		str	r3, [fp, #-72]
 106:../domesdayDuplicator.c **** 	status = CyU3PGpioInit(&gpioClock, 0);
 298              		.loc 1 106 0
 299 0144 4C304BE2 		sub	r3, fp, #76
 300 0148 0300A0E1 		mov	r0, r3
 301 014c 0010A0E3 		mov	r1, #0
 302 0150 FEFFFFEB 		bl	CyU3PGpioInit
 303 0154 08000BE5 		str	r0, [fp, #-8]
 107:../domesdayDuplicator.c **** 	if (status != CY_U3P_SUCCESS) {
 304              		.loc 1 107 0
 305 0158 08301BE5 		ldr	r3, [fp, #-8]
 306 015c 000053E3 		cmp	r3, #0
 307 0160 0000000A 		beq	.L7
 108:../domesdayDuplicator.c **** 		goto handleFatalError;
 308              		.loc 1 108 0
 309 0164 3A0000EA 		b	.L3
 310              	.L7:
 109:../domesdayDuplicator.c **** 	}
 110:../domesdayDuplicator.c **** 
 111:../domesdayDuplicator.c **** 	// Claim CTRL[10]/GPIO27 from the GPIF Interface (nRESET signal)
 112:../domesdayDuplicator.c **** 	status = CyU3PDeviceGpioOverride(27, CyTrue);
 311              		.loc 1 112 0
 312 0168 1B00A0E3 		mov	r0, #27
 313 016c 0110A0E3 		mov	r1, #1
 314 0170 FEFFFFEB 		bl	CyU3PDeviceGpioOverride
 315 0174 08000BE5 		str	r0, [fp, #-8]
 113:../domesdayDuplicator.c **** 	if (status != CY_U3P_SUCCESS) {
 316              		.loc 1 113 0
 317 0178 08301BE5 		ldr	r3, [fp, #-8]
 318 017c 000053E3 		cmp	r3, #0
 319 0180 0000000A 		beq	.L8
 114:../domesdayDuplicator.c **** 		goto handleFatalError;
 320              		.loc 1 114 0
 321 0184 320000EA 		b	.L3
 322              	.L8:
 115:../domesdayDuplicator.c **** 	}
 116:../domesdayDuplicator.c **** 
 117:../domesdayDuplicator.c **** 	// Bring the FPGA out of reset by driving nRESET/GPIO27 high
 118:../domesdayDuplicator.c **** 	CyU3PMemSet((uint8_t *)&gpioConfig, 0, sizeof(gpioConfig));
 323              		.loc 1 118 0
 324 0188 60304BE2 		sub	r3, fp, #96
 325 018c 0300A0E1 		mov	r0, r3
 326 0190 0010A0E3 		mov	r1, #0
 327 0194 1420A0E3 		mov	r2, #20
 328 0198 FEFFFFEB 		bl	CyU3PMemSet
 119:../domesdayDuplicator.c **** 	gpioConfig.outValue = 1;
 329              		.loc 1 119 0
 330 019c 0130A0E3 		mov	r3, #1
 331 01a0 60300BE5 		str	r3, [fp, #-96]
 120:../domesdayDuplicator.c **** 	gpioConfig.driveLowEn = CyTrue;
 332              		.loc 1 120 0
 333 01a4 0130A0E3 		mov	r3, #1
 334 01a8 5C300BE5 		str	r3, [fp, #-92]
 121:../domesdayDuplicator.c **** 	gpioConfig.driveHighEn = CyTrue;
 335              		.loc 1 121 0
 336 01ac 0130A0E3 		mov	r3, #1
 337 01b0 58300BE5 		str	r3, [fp, #-88]
 122:../domesdayDuplicator.c **** 	status = CyU3PGpioSetSimpleConfig(27, &gpioConfig);
 338              		.loc 1 122 0
 339 01b4 60304BE2 		sub	r3, fp, #96
 340 01b8 1B00A0E3 		mov	r0, #27
 341 01bc 0310A0E1 		mov	r1, r3
 342 01c0 FEFFFFEB 		bl	CyU3PGpioSetSimpleConfig
 343 01c4 08000BE5 		str	r0, [fp, #-8]
 123:../domesdayDuplicator.c **** 	if (status != CY_U3P_SUCCESS) {
 344              		.loc 1 123 0
 345 01c8 08301BE5 		ldr	r3, [fp, #-8]
 346 01cc 000053E3 		cmp	r3, #0
 347 01d0 0000000A 		beq	.L9
 124:../domesdayDuplicator.c **** 		goto handleFatalError;
 348              		.loc 1 124 0
 349 01d4 1E0000EA 		b	.L3
 350              	.L9:
 125:../domesdayDuplicator.c **** 	}
 126:../domesdayDuplicator.c **** 
 127:../domesdayDuplicator.c **** 	// Claim CTRL[1]/GPIO18 from the GPIF Interface (nREADY signal)
 128:../domesdayDuplicator.c **** 	status = CyU3PDeviceGpioOverride(18, CyTrue);
 351              		.loc 1 128 0
 352 01d8 1200A0E3 		mov	r0, #18
 353 01dc 0110A0E3 		mov	r1, #1
 354 01e0 FEFFFFEB 		bl	CyU3PDeviceGpioOverride
 355 01e4 08000BE5 		str	r0, [fp, #-8]
 129:../domesdayDuplicator.c **** 	if (status != CY_U3P_SUCCESS) {
 356              		.loc 1 129 0
 357 01e8 08301BE5 		ldr	r3, [fp, #-8]
 358 01ec 000053E3 		cmp	r3, #0
 359 01f0 0000000A 		beq	.L10
 130:../domesdayDuplicator.c **** 		goto handleFatalError;
 360              		.loc 1 130 0
 361 01f4 160000EA 		b	.L3
 362              	.L10:
 131:../domesdayDuplicator.c **** 	}
 132:../domesdayDuplicator.c **** 
 133:../domesdayDuplicator.c **** 	// Make the FPGA transfer not ready by driving nREADY/GPIO18 high
 134:../domesdayDuplicator.c **** 	CyU3PMemSet((uint8_t *)&gpioConfig, 0, sizeof(gpioConfig));
 363              		.loc 1 134 0
 364 01f8 60304BE2 		sub	r3, fp, #96
 365 01fc 0300A0E1 		mov	r0, r3
 366 0200 0010A0E3 		mov	r1, #0
 367 0204 1420A0E3 		mov	r2, #20
 368 0208 FEFFFFEB 		bl	CyU3PMemSet
 135:../domesdayDuplicator.c **** 	gpioConfig.outValue = 1;
 369              		.loc 1 135 0
 370 020c 0130A0E3 		mov	r3, #1
 371 0210 60300BE5 		str	r3, [fp, #-96]
 136:../domesdayDuplicator.c **** 	gpioConfig.driveLowEn = CyTrue;
 372              		.loc 1 136 0
 373 0214 0130A0E3 		mov	r3, #1
 374 0218 5C300BE5 		str	r3, [fp, #-92]
 137:../domesdayDuplicator.c **** 	gpioConfig.driveHighEn = CyTrue;
 375              		.loc 1 137 0
 376 021c 0130A0E3 		mov	r3, #1
 377 0220 58300BE5 		str	r3, [fp, #-88]
 138:../domesdayDuplicator.c **** 	status = CyU3PGpioSetSimpleConfig(18, &gpioConfig);
 378              		.loc 1 138 0
 379 0224 60304BE2 		sub	r3, fp, #96
 380 0228 1200A0E3 		mov	r0, #18
 381 022c 0310A0E1 		mov	r1, r3
 382 0230 FEFFFFEB 		bl	CyU3PGpioSetSimpleConfig
 383 0234 08000BE5 		str	r0, [fp, #-8]
 139:../domesdayDuplicator.c **** 	if (status != CY_U3P_SUCCESS) {
 384              		.loc 1 139 0
 385 0238 08301BE5 		ldr	r3, [fp, #-8]
 386 023c 000053E3 		cmp	r3, #0
 387 0240 0000000A 		beq	.L11
 140:../domesdayDuplicator.c **** 		goto handleFatalError;
 388              		.loc 1 140 0
 389 0244 020000EA 		b	.L3
 390              	.L11:
 141:../domesdayDuplicator.c **** 	}
 142:../domesdayDuplicator.c **** 
 143:../domesdayDuplicator.c ****     // Initialise the RTOS kernel
 144:../domesdayDuplicator.c ****     CyU3PKernelEntry();
 391              		.loc 1 144 0
 392 0248 FEFFFFEB 		bl	_tx_initialize_kernel_enter
 145:../domesdayDuplicator.c **** 
 146:../domesdayDuplicator.c ****     return 0;
 393              		.loc 1 146 0
 394 024c 0030A0E3 		mov	r3, #0
 395 0250 000000EA 		b	.L13
 396              	.L3:
 147:../domesdayDuplicator.c **** 
 148:../domesdayDuplicator.c **** handleFatalError:
 149:../domesdayDuplicator.c **** 
 150:../domesdayDuplicator.c ****     // An unrecoverable error has occurred
 151:../domesdayDuplicator.c **** 	// Loop forever
 152:../domesdayDuplicator.c **** 	while(1);
 397              		.loc 1 152 0 discriminator 1
 398 0254 FEFFFFEA 		b	.L3
 399              	.L13:
 153:../domesdayDuplicator.c **** }
 400              		.loc 1 153 0
 401 0258 0300A0E1 		mov	r0, r3
 402 025c 04D04BE2 		sub	sp, fp, #4
 403              		@ sp needed
 404 0260 0088BDE8 		ldmfd	sp!, {fp, pc}
 405              		.cfi_endproc
 406              	.LFE0:
 408              		.section	.rodata
 409              		.align	2
 410              	.LC0:
 411 001c 0D0A0D0A 		.ascii	"\015\012\015\012Domesday Duplicator FX3 Firmware - "
 411      446F6D65 
 411      73646179 
 411      20447570 
 411      6C696361 
 412 0043 56312E31 		.ascii	"V1.1b\015\012\000"
 412      620D0A00 
 413 004b 00       		.align	2
 414              	.LC1:
 415 004c 28632932 		.ascii	"(c)2017 Simon Inns - domesday86.com\015\012\000"
 415      30313720 
 415      53696D6F 
 415      6E20496E 
 415      6E73202D 
 416 0072 0000     		.align	2
 417              	.LC2:
 418 0074 44656275 		.ascii	"Debug console initialised\015\012\000"
 418      6720636F 
 418      6E736F6C 
 418      6520696E 
 418      69746961 
 419              		.text
 420              		.align	2
 421              		.global	domDupThreadInitialise
 423              	domDupThreadInitialise:
 424              	.LFB1:
 154:../domesdayDuplicator.c **** 
 155:../domesdayDuplicator.c **** // Function to initialise the application's main thread
 156:../domesdayDuplicator.c **** void domDupThreadInitialise(uint32_t input)
 157:../domesdayDuplicator.c **** {
 425              		.loc 1 157 0
 426              		.cfi_startproc
 427              		@ args = 0, pretend = 0, frame = 16
 428              		@ frame_needed = 1, uses_anonymous_args = 0
 429 0264 00482DE9 		stmfd	sp!, {fp, lr}
 430              	.LCFI2:
 431              		.cfi_def_cfa_offset 8
 432              		.cfi_offset 11, -8
 433              		.cfi_offset 14, -4
 434 0268 04B08DE2 		add	fp, sp, #4
 435              	.LCFI3:
 436              		.cfi_def_cfa 11, 4
 437 026c 10D04DE2 		sub	sp, sp, #16
 438 0270 10000BE5 		str	r0, [fp, #-16]
 158:../domesdayDuplicator.c ****     CyU3PReturnStatus_t status;
 159:../domesdayDuplicator.c ****     CyU3PUsbLinkPowerMode powerState;
 160:../domesdayDuplicator.c **** 
 161:../domesdayDuplicator.c **** //    uint32_t debugPause = 0;
 162:../domesdayDuplicator.c **** 
 163:../domesdayDuplicator.c ****     // Initialise the debug console
 164:../domesdayDuplicator.c ****     domDupDebugInit();
 439              		.loc 1 164 0
 440 0274 FEFFFFEB 		bl	domDupDebugInit
 165:../domesdayDuplicator.c ****     CyU3PDebugPrint(1, "\r\n\r\nDomesday Duplicator FX3 Firmware - V1.1b\r\n");
 441              		.loc 1 165 0
 442 0278 0100A0E3 		mov	r0, #1
 443 027c F8109FE5 		ldr	r1, .L22
 444 0280 FEFFFFEB 		bl	CyU3PDebugPrint
 166:../domesdayDuplicator.c ****     CyU3PDebugPrint(1, "(c)2017 Simon Inns - domesday86.com\r\n");
 445              		.loc 1 166 0
 446 0284 0100A0E3 		mov	r0, #1
 447 0288 F0109FE5 		ldr	r1, .L22+4
 448 028c FEFFFFEB 		bl	CyU3PDebugPrint
 167:../domesdayDuplicator.c ****     CyU3PDebugPrint(1, "Debug console initialised\r\n");
 449              		.loc 1 167 0
 450 0290 0100A0E3 		mov	r0, #1
 451 0294 E8109FE5 		ldr	r1, .L22+8
 452 0298 FEFFFFEB 		bl	CyU3PDebugPrint
 168:../domesdayDuplicator.c **** 
 169:../domesdayDuplicator.c ****     // Initialise the application
 170:../domesdayDuplicator.c ****     domDupInitialiseApplication();
 453              		.loc 1 170 0
 454 029c FEFFFFEB 		bl	domDupInitialiseApplication
 455              	.L21:
 171:../domesdayDuplicator.c **** 
 172:../domesdayDuplicator.c ****     // Main application thread loop
 173:../domesdayDuplicator.c ****     while(1) {
 174:../domesdayDuplicator.c ****         // Try to get the USB 3.0 link back to U0
 175:../domesdayDuplicator.c ****         if (glForceLinkU2) {
 456              		.loc 1 175 0
 457 02a0 E0309FE5 		ldr	r3, .L22+12
 458 02a4 003093E5 		ldr	r3, [r3]
 459 02a8 000053E3 		cmp	r3, #0
 460 02ac 1700000A 		beq	.L15
 176:../domesdayDuplicator.c ****         	status = CyU3PUsbGetLinkPowerState(&powerState);
 461              		.loc 1 176 0
 462 02b0 09304BE2 		sub	r3, fp, #9
 463 02b4 0300A0E1 		mov	r0, r3
 464 02b8 FEFFFFEB 		bl	CyU3PUsbGetLinkPowerState
 465 02bc 08000BE5 		str	r0, [fp, #-8]
 177:../domesdayDuplicator.c ****             while ((glForceLinkU2) && (status == CY_U3P_SUCCESS) && (powerState == CyU3PUsbLPM_U0))
 466              		.loc 1 177 0
 467 02c0 070000EA 		b	.L16
 468              	.L18:
 178:../domesdayDuplicator.c ****                 // Try to get to U2 state
 179:../domesdayDuplicator.c ****                 CyU3PUsbSetLinkPowerState(CyU3PUsbLPM_U2);
 469              		.loc 1 179 0
 470 02c4 0200A0E3 		mov	r0, #2
 471 02c8 FEFFFFEB 		bl	CyU3PUsbSetLinkPowerState
 180:../domesdayDuplicator.c ****                 CyU3PThreadSleep(5);
 472              		.loc 1 180 0
 473 02cc 0500A0E3 		mov	r0, #5
 474 02d0 FEFFFFEB 		bl	_tx_thread_sleep
 181:../domesdayDuplicator.c ****                 status = CyU3PUsbGetLinkPowerState(&powerState);
 475              		.loc 1 181 0
 476 02d4 09304BE2 		sub	r3, fp, #9
 477 02d8 0300A0E1 		mov	r0, r3
 478 02dc FEFFFFEB 		bl	CyU3PUsbGetLinkPowerState
 479 02e0 08000BE5 		str	r0, [fp, #-8]
 480              	.L16:
 177:../domesdayDuplicator.c ****                 // Try to get to U2 state
 481              		.loc 1 177 0 discriminator 1
 482 02e4 9C309FE5 		ldr	r3, .L22+12
 483 02e8 003093E5 		ldr	r3, [r3]
 484 02ec 000053E3 		cmp	r3, #0
 485 02f0 2000000A 		beq	.L17
 177:../domesdayDuplicator.c ****                 // Try to get to U2 state
 486              		.loc 1 177 0 is_stmt 0 discriminator 2
 487 02f4 08301BE5 		ldr	r3, [fp, #-8]
 488 02f8 000053E3 		cmp	r3, #0
 489 02fc 1D00001A 		bne	.L17
 177:../domesdayDuplicator.c ****                 // Try to get to U2 state
 490              		.loc 1 177 0 discriminator 1
 491 0300 09305BE5 		ldrb	r3, [fp, #-9]	@ zero_extendqisi2
 492 0304 000053E3 		cmp	r3, #0
 493 0308 EDFFFF0A 		beq	.L18
 182:../domesdayDuplicator.c ****             }
 183:../domesdayDuplicator.c ****         } else {
 184:../domesdayDuplicator.c ****             // Try to get the USB link back to U0
 185:../domesdayDuplicator.c ****             if (CyU3PUsbGetSpeed () == CY_U3P_SUPER_SPEED) {
 186:../domesdayDuplicator.c ****             	status = CyU3PUsbGetLinkPowerState (&powerState);
 187:../domesdayDuplicator.c ****                 while ((status == CY_U3P_SUCCESS) && (powerState >= CyU3PUsbLPM_U1) &&
 188:../domesdayDuplicator.c ****                 	(powerState <= CyU3PUsbLPM_U3)) {
 189:../domesdayDuplicator.c ****                     CyU3PUsbSetLinkPowerState(CyU3PUsbLPM_U0);
 190:../domesdayDuplicator.c ****                     CyU3PThreadSleep(1);
 191:../domesdayDuplicator.c ****                     status = CyU3PUsbGetLinkPowerState(&powerState);
 192:../domesdayDuplicator.c ****                 }
 193:../domesdayDuplicator.c ****             }
 194:../domesdayDuplicator.c ****         }
 195:../domesdayDuplicator.c **** 
 196:../domesdayDuplicator.c ****         // Output application heart beat character to debug console
 197:../domesdayDuplicator.c **** //        debugPause++;
 198:../domesdayDuplicator.c **** //        if (debugPause == 1000000) {
 199:../domesdayDuplicator.c **** //        	CyU3PDebugPrint(1, "*");
 200:../domesdayDuplicator.c **** //        	debugPause = 0;
 201:../domesdayDuplicator.c **** //        }
 202:../domesdayDuplicator.c ****     }
 494              		.loc 1 202 0 is_stmt 1
 495 030c E3FFFFEA 		b	.L21
 496              	.L15:
 185:../domesdayDuplicator.c ****             	status = CyU3PUsbGetLinkPowerState (&powerState);
 497              		.loc 1 185 0
 498 0310 FEFFFFEB 		bl	CyU3PUsbGetSpeed
 499 0314 0030A0E1 		mov	r3, r0
 500 0318 030053E3 		cmp	r3, #3
 501 031c 1500001A 		bne	.L17
 186:../domesdayDuplicator.c ****                 while ((status == CY_U3P_SUCCESS) && (powerState >= CyU3PUsbLPM_U1) &&
 502              		.loc 1 186 0
 503 0320 09304BE2 		sub	r3, fp, #9
 504 0324 0300A0E1 		mov	r0, r3
 505 0328 FEFFFFEB 		bl	CyU3PUsbGetLinkPowerState
 506 032c 08000BE5 		str	r0, [fp, #-8]
 187:../domesdayDuplicator.c ****                 	(powerState <= CyU3PUsbLPM_U3)) {
 507              		.loc 1 187 0
 508 0330 070000EA 		b	.L19
 509              	.L20:
 189:../domesdayDuplicator.c ****                     CyU3PThreadSleep(1);
 510              		.loc 1 189 0
 511 0334 0000A0E3 		mov	r0, #0
 512 0338 FEFFFFEB 		bl	CyU3PUsbSetLinkPowerState
 190:../domesdayDuplicator.c ****                     status = CyU3PUsbGetLinkPowerState(&powerState);
 513              		.loc 1 190 0
 514 033c 0100A0E3 		mov	r0, #1
 515 0340 FEFFFFEB 		bl	_tx_thread_sleep
 191:../domesdayDuplicator.c ****                 }
 516              		.loc 1 191 0
 517 0344 09304BE2 		sub	r3, fp, #9
 518 0348 0300A0E1 		mov	r0, r3
 519 034c FEFFFFEB 		bl	CyU3PUsbGetLinkPowerState
 520 0350 08000BE5 		str	r0, [fp, #-8]
 521              	.L19:
 187:../domesdayDuplicator.c ****                 	(powerState <= CyU3PUsbLPM_U3)) {
 522              		.loc 1 187 0 discriminator 1
 523 0354 08301BE5 		ldr	r3, [fp, #-8]
 524 0358 000053E3 		cmp	r3, #0
 525 035c 0500001A 		bne	.L17
 187:../domesdayDuplicator.c ****                 	(powerState <= CyU3PUsbLPM_U3)) {
 526              		.loc 1 187 0 is_stmt 0 discriminator 2
 527 0360 09305BE5 		ldrb	r3, [fp, #-9]	@ zero_extendqisi2
 528 0364 000053E3 		cmp	r3, #0
 529 0368 0200000A 		beq	.L17
 188:../domesdayDuplicator.c ****                     CyU3PUsbSetLinkPowerState(CyU3PUsbLPM_U0);
 530              		.loc 1 188 0 is_stmt 1 discriminator 1
 531 036c 09305BE5 		ldrb	r3, [fp, #-9]	@ zero_extendqisi2
 187:../domesdayDuplicator.c ****                 	(powerState <= CyU3PUsbLPM_U3)) {
 532              		.loc 1 187 0 discriminator 1
 533 0370 030053E3 		cmp	r3, #3
 534 0374 EEFFFF9A 		bls	.L20
 535              	.L17:
 536              		.loc 1 202 0
 537 0378 C8FFFFEA 		b	.L21
 538              	.L23:
 539              		.align	2
 540              	.L22:
 541 037c 1C000000 		.word	.LC0
 542 0380 4C000000 		.word	.LC1
 543 0384 74000000 		.word	.LC2
 544 0388 00000000 		.word	glForceLinkU2
 545              		.cfi_endproc
 546              	.LFE1:
 548              		.section	.rodata
 549              		.align	2
 550              	.LC3:
 551 0090 32383A64 		.ascii	"28:domDup\000"
 551      6F6D4475 
 551      7000
 552              		.text
 553              		.align	2
 554              		.global	CyFxApplicationDefine
 556              	CyFxApplicationDefine:
 557              	.LFB2:
 203:../domesdayDuplicator.c **** }
 204:../domesdayDuplicator.c **** 
 205:../domesdayDuplicator.c **** // Function to create the initial application thread
 206:../domesdayDuplicator.c **** void CyFxApplicationDefine(void)
 207:../domesdayDuplicator.c **** {
 558              		.loc 1 207 0
 559              		.cfi_startproc
 560              		@ args = 0, pretend = 0, frame = 8
 561              		@ frame_needed = 1, uses_anonymous_args = 0
 562 038c 00482DE9 		stmfd	sp!, {fp, lr}
 563              	.LCFI4:
 564              		.cfi_def_cfa_offset 8
 565              		.cfi_offset 11, -8
 566              		.cfi_offset 14, -4
 567 0390 04B08DE2 		add	fp, sp, #4
 568              	.LCFI5:
 569              		.cfi_def_cfa 11, 4
 570 0394 28D04DE2 		sub	sp, sp, #40
 208:../domesdayDuplicator.c ****     void *ptr = NULL;
 571              		.loc 1 208 0
 572 0398 0030A0E3 		mov	r3, #0
 573 039c 08300BE5 		str	r3, [fp, #-8]
 209:../domesdayDuplicator.c ****     uint32_t returnCode = CY_U3P_SUCCESS;
 574              		.loc 1 209 0
 575 03a0 0030A0E3 		mov	r3, #0
 576 03a4 0C300BE5 		str	r3, [fp, #-12]
 210:../domesdayDuplicator.c **** 
 211:../domesdayDuplicator.c ****     // Allocate the memory for the threads
 212:../domesdayDuplicator.c ****     ptr = CyU3PMemAlloc(CY_FX_GPIFTOUSB_THREAD_STACK);
 577              		.loc 1 212 0
 578 03a8 010AA0E3 		mov	r0, #4096
 579 03ac FEFFFFEB 		bl	CyU3PMemAlloc
 580 03b0 08000BE5 		str	r0, [fp, #-8]
 213:../domesdayDuplicator.c **** 
 214:../domesdayDuplicator.c ****     // Create the application's main thread
 215:../domesdayDuplicator.c ****     returnCode = CyU3PThreadCreate(
 581              		.loc 1 215 0
 582 03b4 08301BE5 		ldr	r3, [fp, #-8]
 583 03b8 00308DE5 		str	r3, [sp]
 584 03bc 013AA0E3 		mov	r3, #4096
 585 03c0 04308DE5 		str	r3, [sp, #4]
 586 03c4 0830A0E3 		mov	r3, #8
 587 03c8 08308DE5 		str	r3, [sp, #8]
 588 03cc 0830A0E3 		mov	r3, #8
 589 03d0 0C308DE5 		str	r3, [sp, #12]
 590 03d4 0030A0E3 		mov	r3, #0
 591 03d8 10308DE5 		str	r3, [sp, #16]
 592 03dc 0130A0E3 		mov	r3, #1
 593 03e0 14308DE5 		str	r3, [sp, #20]
 594 03e4 A830A0E3 		mov	r3, #168
 595 03e8 18308DE5 		str	r3, [sp, #24]
 596 03ec 28009FE5 		ldr	r0, .L27
 597 03f0 28109FE5 		ldr	r1, .L27+4
 598 03f4 28209FE5 		ldr	r2, .L27+8
 599 03f8 0030A0E3 		mov	r3, #0
 600 03fc FEFFFFEB 		bl	_txe_thread_create
 601 0400 0C000BE5 		str	r0, [fp, #-12]
 216:../domesdayDuplicator.c **** 		&glAppThread,						// Application thread structure
 217:../domesdayDuplicator.c **** 		"28:domDup",						// Thread ID and thread name
 218:../domesdayDuplicator.c **** 		domDupThreadInitialise,				// Application thread entry function
 219:../domesdayDuplicator.c **** 		0,									// No input parameter to thread
 220:../domesdayDuplicator.c **** 		ptr,								// Pointer to the allocated thread stack
 221:../domesdayDuplicator.c **** 		CY_FX_GPIFTOUSB_THREAD_STACK,		// Application thread stack size
 222:../domesdayDuplicator.c **** 		CY_FX_GPIFTOUSB_THREAD_PRIORITY,	// Application thread priority
 223:../domesdayDuplicator.c **** 		CY_FX_GPIFTOUSB_THREAD_PRIORITY,	// Application thread priority
 224:../domesdayDuplicator.c **** 		CYU3P_NO_TIME_SLICE,				// No time slice for the application thread
 225:../domesdayDuplicator.c **** 		CYU3P_AUTO_START					// Start the thread immediately
 226:../domesdayDuplicator.c **** 		);
 227:../domesdayDuplicator.c **** 
 228:../domesdayDuplicator.c ****     // Check the return code
 229:../domesdayDuplicator.c ****     if (returnCode != 0) {
 602              		.loc 1 229 0
 603 0404 0C301BE5 		ldr	r3, [fp, #-12]
 604 0408 000053E3 		cmp	r3, #0
 605 040c 0000000A 		beq	.L24
 606              	.L26:
 230:../domesdayDuplicator.c ****     	// Could not create initial thread
 231:../domesdayDuplicator.c ****     	// Application cannot start
 232:../domesdayDuplicator.c ****         while(1);
 607              		.loc 1 232 0 discriminator 1
 608 0410 FEFFFFEA 		b	.L26
 609              	.L24:
 233:../domesdayDuplicator.c ****     }
 234:../domesdayDuplicator.c **** }
 610              		.loc 1 234 0
 611 0414 04D04BE2 		sub	sp, fp, #4
 612              		@ sp needed
 613 0418 0088BDE8 		ldmfd	sp!, {fp, pc}
 614              	.L28:
 615              		.align	2
 616              	.L27:
 617 041c 00000000 		.word	glAppThread
 618 0420 90000000 		.word	.LC3
 619 0424 00000000 		.word	domDupThreadInitialise
 620              		.cfi_endproc
 621              	.LFE2:
 623              		.section	.rodata
 624 009a 0000     		.align	2
 625              	.LC4:
 626 009c 43795533 		.ascii	"CyU3PUsbStart failed, Error code = %d\012\000"
 626      50557362 
 626      53746172 
 626      74206661 
 626      696C6564 
 627 00c3 00       		.align	2
 628              	.LC5:
 629 00c4 43795533 		.ascii	"CyU3PUsbSetDesc USB3 failed, Error code = %d\012\000"
 629      50557362 
 629      53657444 
 629      65736320 
 629      55534233 
 630 00f2 0000     		.align	2
 631              	.LC6:
 632 00f4 43795533 		.ascii	"CyU3PUsbSetDesc USB 2 failed, Error code = %d\012\000"
 632      50557362 
 632      53657444 
 632      65736320 
 632      55534220 
 633 0123 00       		.align	2
 634              	.LC7:
 635 0124 43795533 		.ascii	"CyU3PUsbSetDesc BOS failed, Error code = %d\012\000"
 635      50557362 
 635      53657444 
 635      65736320 
 635      424F5320 
 636 0151 000000   		.align	2
 637              	.LC8:
 638 0154 43795533 		.ascii	"CyU3PUsbSetDesc qualifier descriptor failed, Error "
 638      50557362 
 638      53657444 
 638      65736320 
 638      7175616C 
 639 0187 636F6465 		.ascii	"code = %d\012\000"
 639      203D2025 
 639      640A00
 640 0192 0000     		.align	2
 641              	.LC9:
 642 0194 43795533 		.ascii	"CyU3PUsbSetDesc configuration descriptor failed, Er"
 642      50557362 
 642      53657444 
 642      65736320 
 642      636F6E66 
 643 01c7 726F7220 		.ascii	"ror code = %d\012\000"
 643      636F6465 
 643      203D2025 
 643      640A00
 644 01d6 0000     		.align	2
 645              	.LC10:
 646 01d8 43795533 		.ascii	"CyU3PUsbSetDesc Other Speed Descriptor failed, Erro"
 646      50557362 
 646      53657444 
 646      65736320 
 646      4F746865 
 647 020b 7220436F 		.ascii	"r Code = %d\012\000"
 647      6465203D 
 647      2025640A 
 647      00
 648              		.align	2
 649              	.LC11:
 650 0218 43795533 		.ascii	"CyU3PUsbSetDesc Full-Speed Descriptor failed, Error"
 650      50557362 
 650      53657444 
 650      65736320 
 650      46756C6C 
 651 024b 20436F64 		.ascii	" Code = %d\012\000"
 651      65203D20 
 651      25640A00 
 652 0257 00       		.align	2
 653              	.LC12:
 654 0258 43795533 		.ascii	"CyU3PUsbSetDesc string 0 descriptor failed, Error c"
 654      50557362 
 654      53657444 
 654      65736320 
 654      73747269 
 655 028b 6F646520 		.ascii	"ode = %d\012\000"
 655      3D202564 
 655      0A00
 656 0295 000000   		.align	2
 657              	.LC13:
 658 0298 43795533 		.ascii	"CyU3PUsbSetDesc string descriptor 1 failed, Error c"
 658      50557362 
 658      53657444 
 658      65736320 
 658      73747269 
 659 02cb 6F646520 		.ascii	"ode = %d\012\000"
 659      3D202564 
 659      0A00
 660 02d5 000000   		.align	2
 661              	.LC14:
 662 02d8 43795533 		.ascii	"CyU3PUsbSetDesc string descriptor 2 failed, Error c"
 662      50557362 
 662      53657444 
 662      65736320 
 662      73747269 
 663 030b 6F646520 		.ascii	"ode = %d\012\000"
 663      3D202564 
 663      0A00
 664 0315 000000   		.align	2
 665              	.LC15:
 666 0318 496E6974 		.ascii	"Initialisation successfull; Connecting to host\015\012"
 666      69616C69 
 666      73617469 
 666      6F6E2073 
 666      75636365 
 667 0348 00       		.ascii	"\000"
 668 0349 000000   		.align	2
 669              	.LC16:
 670 034c 43795533 		.ascii	"CyU3PConnectState failed, Error code = %d\012\000"
 670      50436F6E 
 670      6E656374 
 670      53746174 
 670      65206661 
 671 0377 00       		.align	2
 672              	.LC17:
 673 0378 4170706C 		.ascii	"Application initialisation complete.\015\012\000"
 673      69636174 
 673      696F6E20 
 673      696E6974 
 673      69616C69 
 674              		.text
 675              		.align	2
 676              		.global	domDupInitialiseApplication
 678              	domDupInitialiseApplication:
 679              	.LFB3:
 235:../domesdayDuplicator.c **** 
 236:../domesdayDuplicator.c **** // Function to initialise the USB application (note: does not start application)
 237:../domesdayDuplicator.c **** void domDupInitialiseApplication(void)
 238:../domesdayDuplicator.c **** {
 680              		.loc 1 238 0
 681              		.cfi_startproc
 682              		@ args = 0, pretend = 0, frame = 8
 683              		@ frame_needed = 1, uses_anonymous_args = 0
 684 0428 00482DE9 		stmfd	sp!, {fp, lr}
 685              	.LCFI6:
 686              		.cfi_def_cfa_offset 8
 687              		.cfi_offset 11, -8
 688              		.cfi_offset 14, -4
 689 042c 04B08DE2 		add	fp, sp, #4
 690              	.LCFI7:
 691              		.cfi_def_cfa 11, 4
 692 0430 08D04DE2 		sub	sp, sp, #8
 239:../domesdayDuplicator.c ****     CyU3PReturnStatus_t apiReturnStatus = CY_U3P_SUCCESS;
 693              		.loc 1 239 0
 694 0434 0030A0E3 		mov	r3, #0
 695 0438 0C300BE5 		str	r3, [fp, #-12]
 240:../domesdayDuplicator.c ****     CyBool_t noRenum = CyFalse;
 696              		.loc 1 240 0
 697 043c 0030A0E3 		mov	r3, #0
 698 0440 08300BE5 		str	r3, [fp, #-8]
 241:../domesdayDuplicator.c **** 
 242:../domesdayDuplicator.c ****     // Start the USB processing
 243:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PUsbStart();
 699              		.loc 1 243 0
 700 0444 FEFFFFEB 		bl	CyU3PUsbStart
 701 0448 0C000BE5 		str	r0, [fp, #-12]
 244:../domesdayDuplicator.c ****     if (apiReturnStatus == CY_U3P_ERROR_NO_REENUM_REQUIRED) noRenum = CyTrue;
 702              		.loc 1 244 0
 703 044c 0C301BE5 		ldr	r3, [fp, #-12]
 704 0450 FE0053E3 		cmp	r3, #254
 705 0454 0200001A 		bne	.L30
 706              		.loc 1 244 0 is_stmt 0 discriminator 1
 707 0458 0130A0E3 		mov	r3, #1
 708 045c 08300BE5 		str	r3, [fp, #-8]
 709 0460 080000EA 		b	.L31
 710              	.L30:
 245:../domesdayDuplicator.c ****     else if (apiReturnStatus != CY_U3P_SUCCESS) {
 711              		.loc 1 245 0 is_stmt 1
 712 0464 0C301BE5 		ldr	r3, [fp, #-12]
 713 0468 000053E3 		cmp	r3, #0
 714 046c 0500000A 		beq	.L31
 246:../domesdayDuplicator.c ****         CyU3PDebugPrint(4, "CyU3PUsbStart failed, Error code = %d\n", apiReturnStatus);
 715              		.loc 1 246 0
 716 0470 0400A0E3 		mov	r0, #4
 717 0474 D4129FE5 		ldr	r1, .L46
 718 0478 0C201BE5 		ldr	r2, [fp, #-12]
 719 047c FEFFFFEB 		bl	CyU3PDebugPrint
 247:../domesdayDuplicator.c ****         domDupErrorHandler(apiReturnStatus);
 720              		.loc 1 247 0
 721 0480 0C001BE5 		ldr	r0, [fp, #-12]
 722 0484 FEFFFFEB 		bl	domDupErrorHandler
 723              	.L31:
 248:../domesdayDuplicator.c ****     }
 249:../domesdayDuplicator.c **** 
 250:../domesdayDuplicator.c ****     // Use fast enumeration
 251:../domesdayDuplicator.c ****     CyU3PUsbRegisterSetupCallback(domDupUSBSetupCB, CyTrue);
 724              		.loc 1 251 0
 725 0488 C4029FE5 		ldr	r0, .L46+4
 726 048c 0110A0E3 		mov	r1, #1
 727 0490 FEFFFFEB 		bl	CyU3PUsbRegisterSetupCallback
 252:../domesdayDuplicator.c **** 
 253:../domesdayDuplicator.c ****     // Add USB event callback function
 254:../domesdayDuplicator.c ****     CyU3PUsbRegisterEventCallback(domDupUSBEventCB);
 728              		.loc 1 254 0
 729 0494 BC029FE5 		ldr	r0, .L46+8
 730 0498 FEFFFFEB 		bl	CyU3PUsbRegisterEventCallback
 255:../domesdayDuplicator.c **** 
 256:../domesdayDuplicator.c ****     // Add LPM request callback function
 257:../domesdayDuplicator.c ****     CyU3PUsbRegisterLPMRequestCallback(domDupLPMRequestCB);
 731              		.loc 1 257 0
 732 049c B8029FE5 		ldr	r0, .L46+12
 733 04a0 FEFFFFEB 		bl	CyU3PUsbRegisterLPMRequestCallback
 258:../domesdayDuplicator.c **** 
 259:../domesdayDuplicator.c ****     // Set the USB descriptors
 260:../domesdayDuplicator.c **** 
 261:../domesdayDuplicator.c ****     // Super speed device descriptor (USB 3)
 262:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_SS_DEVICE_DESCR, 0, (uint8_t *)USB30DeviceDscr
 734              		.loc 1 262 0
 735 04a4 0000A0E3 		mov	r0, #0
 736 04a8 0010A0E3 		mov	r1, #0
 737 04ac AC229FE5 		ldr	r2, .L46+16
 738 04b0 FEFFFFEB 		bl	CyU3PUsbSetDesc
 739 04b4 0C000BE5 		str	r0, [fp, #-12]
 263:../domesdayDuplicator.c ****     if (apiReturnStatus != CY_U3P_SUCCESS) {
 740              		.loc 1 263 0
 741 04b8 0C301BE5 		ldr	r3, [fp, #-12]
 742 04bc 000053E3 		cmp	r3, #0
 743 04c0 0500000A 		beq	.L32
 264:../domesdayDuplicator.c ****         CyU3PDebugPrint(4, "CyU3PUsbSetDesc USB3 failed, Error code = %d\n", apiReturnStatus);
 744              		.loc 1 264 0
 745 04c4 0400A0E3 		mov	r0, #4
 746 04c8 94129FE5 		ldr	r1, .L46+20
 747 04cc 0C201BE5 		ldr	r2, [fp, #-12]
 748 04d0 FEFFFFEB 		bl	CyU3PDebugPrint
 265:../domesdayDuplicator.c ****         domDupErrorHandler(apiReturnStatus);
 749              		.loc 1 265 0
 750 04d4 0C001BE5 		ldr	r0, [fp, #-12]
 751 04d8 FEFFFFEB 		bl	domDupErrorHandler
 752              	.L32:
 266:../domesdayDuplicator.c ****     }
 267:../domesdayDuplicator.c **** 
 268:../domesdayDuplicator.c ****     // High speed device descriptor (USB 2)
 269:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_HS_DEVICE_DESCR, 0, (uint8_t *)USB20DeviceDscr
 753              		.loc 1 269 0
 754 04dc 0100A0E3 		mov	r0, #1
 755 04e0 0010A0E3 		mov	r1, #0
 756 04e4 7C229FE5 		ldr	r2, .L46+24
 757 04e8 FEFFFFEB 		bl	CyU3PUsbSetDesc
 758 04ec 0C000BE5 		str	r0, [fp, #-12]
 270:../domesdayDuplicator.c ****     if (apiReturnStatus != CY_U3P_SUCCESS) {
 759              		.loc 1 270 0
 760 04f0 0C301BE5 		ldr	r3, [fp, #-12]
 761 04f4 000053E3 		cmp	r3, #0
 762 04f8 0500000A 		beq	.L33
 271:../domesdayDuplicator.c ****         CyU3PDebugPrint(4, "CyU3PUsbSetDesc USB 2 failed, Error code = %d\n", apiReturnStatus);
 763              		.loc 1 271 0
 764 04fc 0400A0E3 		mov	r0, #4
 765 0500 64129FE5 		ldr	r1, .L46+28
 766 0504 0C201BE5 		ldr	r2, [fp, #-12]
 767 0508 FEFFFFEB 		bl	CyU3PDebugPrint
 272:../domesdayDuplicator.c ****         domDupErrorHandler(apiReturnStatus);
 768              		.loc 1 272 0
 769 050c 0C001BE5 		ldr	r0, [fp, #-12]
 770 0510 FEFFFFEB 		bl	domDupErrorHandler
 771              	.L33:
 273:../domesdayDuplicator.c ****     }
 274:../domesdayDuplicator.c **** 
 275:../domesdayDuplicator.c ****     // BOS descriptor
 276:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_SS_BOS_DESCR, 0, (uint8_t *)USBBOSDscr);
 772              		.loc 1 276 0
 773 0514 0700A0E3 		mov	r0, #7
 774 0518 0010A0E3 		mov	r1, #0
 775 051c 4C229FE5 		ldr	r2, .L46+32
 776 0520 FEFFFFEB 		bl	CyU3PUsbSetDesc
 777 0524 0C000BE5 		str	r0, [fp, #-12]
 277:../domesdayDuplicator.c ****     if (apiReturnStatus != CY_U3P_SUCCESS) {
 778              		.loc 1 277 0
 779 0528 0C301BE5 		ldr	r3, [fp, #-12]
 780 052c 000053E3 		cmp	r3, #0
 781 0530 0500000A 		beq	.L34
 278:../domesdayDuplicator.c ****         CyU3PDebugPrint(4, "CyU3PUsbSetDesc BOS failed, Error code = %d\n", apiReturnStatus);
 782              		.loc 1 278 0
 783 0534 0400A0E3 		mov	r0, #4
 784 0538 34129FE5 		ldr	r1, .L46+36
 785 053c 0C201BE5 		ldr	r2, [fp, #-12]
 786 0540 FEFFFFEB 		bl	CyU3PDebugPrint
 279:../domesdayDuplicator.c ****         domDupErrorHandler(apiReturnStatus);
 787              		.loc 1 279 0
 788 0544 0C001BE5 		ldr	r0, [fp, #-12]
 789 0548 FEFFFFEB 		bl	domDupErrorHandler
 790              	.L34:
 280:../domesdayDuplicator.c ****     }
 281:../domesdayDuplicator.c **** 
 282:../domesdayDuplicator.c ****     // Device qualifier descriptor
 283:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_DEVQUAL_DESCR, 0, (uint8_t *)USBDeviceQualDscr
 791              		.loc 1 283 0
 792 054c 0200A0E3 		mov	r0, #2
 793 0550 0010A0E3 		mov	r1, #0
 794 0554 1C229FE5 		ldr	r2, .L46+40
 795 0558 FEFFFFEB 		bl	CyU3PUsbSetDesc
 796 055c 0C000BE5 		str	r0, [fp, #-12]
 284:../domesdayDuplicator.c ****     if (apiReturnStatus != CY_U3P_SUCCESS) {
 797              		.loc 1 284 0
 798 0560 0C301BE5 		ldr	r3, [fp, #-12]
 799 0564 000053E3 		cmp	r3, #0
 800 0568 0500000A 		beq	.L35
 285:../domesdayDuplicator.c ****         CyU3PDebugPrint(4, "CyU3PUsbSetDesc qualifier descriptor failed, Error code = %d\n", apiRet
 801              		.loc 1 285 0
 802 056c 0400A0E3 		mov	r0, #4
 803 0570 04129FE5 		ldr	r1, .L46+44
 804 0574 0C201BE5 		ldr	r2, [fp, #-12]
 805 0578 FEFFFFEB 		bl	CyU3PDebugPrint
 286:../domesdayDuplicator.c ****         domDupErrorHandler(apiReturnStatus);
 806              		.loc 1 286 0
 807 057c 0C001BE5 		ldr	r0, [fp, #-12]
 808 0580 FEFFFFEB 		bl	domDupErrorHandler
 809              	.L35:
 287:../domesdayDuplicator.c ****     }
 288:../domesdayDuplicator.c **** 
 289:../domesdayDuplicator.c ****     // Super speed configuration descriptor
 290:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_SS_CONFIG_DESCR, 0, (uint8_t *)USBSSConfigDscr
 810              		.loc 1 290 0
 811 0584 0600A0E3 		mov	r0, #6
 812 0588 0010A0E3 		mov	r1, #0
 813 058c EC219FE5 		ldr	r2, .L46+48
 814 0590 FEFFFFEB 		bl	CyU3PUsbSetDesc
 815 0594 0C000BE5 		str	r0, [fp, #-12]
 291:../domesdayDuplicator.c ****     if (apiReturnStatus != CY_U3P_SUCCESS) {
 816              		.loc 1 291 0
 817 0598 0C301BE5 		ldr	r3, [fp, #-12]
 818 059c 000053E3 		cmp	r3, #0
 819 05a0 0500000A 		beq	.L36
 292:../domesdayDuplicator.c ****         CyU3PDebugPrint(4, "CyU3PUsbSetDesc configuration descriptor failed, Error code = %d\n", ap
 820              		.loc 1 292 0
 821 05a4 0400A0E3 		mov	r0, #4
 822 05a8 D4119FE5 		ldr	r1, .L46+52
 823 05ac 0C201BE5 		ldr	r2, [fp, #-12]
 824 05b0 FEFFFFEB 		bl	CyU3PDebugPrint
 293:../domesdayDuplicator.c ****         domDupErrorHandler(apiReturnStatus);
 825              		.loc 1 293 0
 826 05b4 0C001BE5 		ldr	r0, [fp, #-12]
 827 05b8 FEFFFFEB 		bl	domDupErrorHandler
 828              	.L36:
 294:../domesdayDuplicator.c ****     }
 295:../domesdayDuplicator.c **** 
 296:../domesdayDuplicator.c ****     // High speed configuration descriptor
 297:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_HS_CONFIG_DESCR, 0, (uint8_t *)USBHSConfigDscr
 829              		.loc 1 297 0
 830 05bc 0400A0E3 		mov	r0, #4
 831 05c0 0010A0E3 		mov	r1, #0
 832 05c4 BC219FE5 		ldr	r2, .L46+56
 833 05c8 FEFFFFEB 		bl	CyU3PUsbSetDesc
 834 05cc 0C000BE5 		str	r0, [fp, #-12]
 298:../domesdayDuplicator.c ****     if (apiReturnStatus != CY_U3P_SUCCESS) {
 835              		.loc 1 298 0
 836 05d0 0C301BE5 		ldr	r3, [fp, #-12]
 837 05d4 000053E3 		cmp	r3, #0
 838 05d8 0500000A 		beq	.L37
 299:../domesdayDuplicator.c ****         CyU3PDebugPrint(4, "CyU3PUsbSetDesc Other Speed Descriptor failed, Error Code = %d\n", apiR
 839              		.loc 1 299 0
 840 05dc 0400A0E3 		mov	r0, #4
 841 05e0 A4119FE5 		ldr	r1, .L46+60
 842 05e4 0C201BE5 		ldr	r2, [fp, #-12]
 843 05e8 FEFFFFEB 		bl	CyU3PDebugPrint
 300:../domesdayDuplicator.c ****         domDupErrorHandler(apiReturnStatus);
 844              		.loc 1 300 0
 845 05ec 0C001BE5 		ldr	r0, [fp, #-12]
 846 05f0 FEFFFFEB 		bl	domDupErrorHandler
 847              	.L37:
 301:../domesdayDuplicator.c ****     }
 302:../domesdayDuplicator.c **** 
 303:../domesdayDuplicator.c ****     // Full speed configuration descriptor
 304:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_FS_CONFIG_DESCR, 0, (uint8_t *)USBFSConfigDscr
 848              		.loc 1 304 0
 849 05f4 0300A0E3 		mov	r0, #3
 850 05f8 0010A0E3 		mov	r1, #0
 851 05fc 8C219FE5 		ldr	r2, .L46+64
 852 0600 FEFFFFEB 		bl	CyU3PUsbSetDesc
 853 0604 0C000BE5 		str	r0, [fp, #-12]
 305:../domesdayDuplicator.c ****     if (apiReturnStatus != CY_U3P_SUCCESS) {
 854              		.loc 1 305 0
 855 0608 0C301BE5 		ldr	r3, [fp, #-12]
 856 060c 000053E3 		cmp	r3, #0
 857 0610 0500000A 		beq	.L38
 306:../domesdayDuplicator.c ****         CyU3PDebugPrint(4, "CyU3PUsbSetDesc Full-Speed Descriptor failed, Error Code = %d\n", apiRe
 858              		.loc 1 306 0
 859 0614 0400A0E3 		mov	r0, #4
 860 0618 74119FE5 		ldr	r1, .L46+68
 861 061c 0C201BE5 		ldr	r2, [fp, #-12]
 862 0620 FEFFFFEB 		bl	CyU3PDebugPrint
 307:../domesdayDuplicator.c ****         domDupErrorHandler(apiReturnStatus);
 863              		.loc 1 307 0
 864 0624 0C001BE5 		ldr	r0, [fp, #-12]
 865 0628 FEFFFFEB 		bl	domDupErrorHandler
 866              	.L38:
 308:../domesdayDuplicator.c ****     }
 309:../domesdayDuplicator.c **** 
 310:../domesdayDuplicator.c ****     // String descriptor 0
 311:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_STRING_DESCR, 0, (uint8_t *)USBStringLangIDDsc
 867              		.loc 1 311 0
 868 062c 0500A0E3 		mov	r0, #5
 869 0630 0010A0E3 		mov	r1, #0
 870 0634 5C219FE5 		ldr	r2, .L46+72
 871 0638 FEFFFFEB 		bl	CyU3PUsbSetDesc
 872 063c 0C000BE5 		str	r0, [fp, #-12]
 312:../domesdayDuplicator.c ****     if (apiReturnStatus != CY_U3P_SUCCESS) {
 873              		.loc 1 312 0
 874 0640 0C301BE5 		ldr	r3, [fp, #-12]
 875 0644 000053E3 		cmp	r3, #0
 876 0648 0500000A 		beq	.L39
 313:../domesdayDuplicator.c ****         CyU3PDebugPrint(4, "CyU3PUsbSetDesc string 0 descriptor failed, Error code = %d\n", apiRetu
 877              		.loc 1 313 0
 878 064c 0400A0E3 		mov	r0, #4
 879 0650 44119FE5 		ldr	r1, .L46+76
 880 0654 0C201BE5 		ldr	r2, [fp, #-12]
 881 0658 FEFFFFEB 		bl	CyU3PDebugPrint
 314:../domesdayDuplicator.c ****         domDupErrorHandler(apiReturnStatus);
 882              		.loc 1 314 0
 883 065c 0C001BE5 		ldr	r0, [fp, #-12]
 884 0660 FEFFFFEB 		bl	domDupErrorHandler
 885              	.L39:
 315:../domesdayDuplicator.c ****     }
 316:../domesdayDuplicator.c **** 
 317:../domesdayDuplicator.c ****     // String descriptor 1
 318:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_STRING_DESCR, 1, (uint8_t *)USBManufactureDscr
 886              		.loc 1 318 0
 887 0664 0500A0E3 		mov	r0, #5
 888 0668 0110A0E3 		mov	r1, #1
 889 066c 2C219FE5 		ldr	r2, .L46+80
 890 0670 FEFFFFEB 		bl	CyU3PUsbSetDesc
 891 0674 0C000BE5 		str	r0, [fp, #-12]
 319:../domesdayDuplicator.c ****     if (apiReturnStatus != CY_U3P_SUCCESS) {
 892              		.loc 1 319 0
 893 0678 0C301BE5 		ldr	r3, [fp, #-12]
 894 067c 000053E3 		cmp	r3, #0
 895 0680 0500000A 		beq	.L40
 320:../domesdayDuplicator.c ****         CyU3PDebugPrint(4, "CyU3PUsbSetDesc string descriptor 1 failed, Error code = %d\n", apiRetu
 896              		.loc 1 320 0
 897 0684 0400A0E3 		mov	r0, #4
 898 0688 14119FE5 		ldr	r1, .L46+84
 899 068c 0C201BE5 		ldr	r2, [fp, #-12]
 900 0690 FEFFFFEB 		bl	CyU3PDebugPrint
 321:../domesdayDuplicator.c ****         domDupErrorHandler(apiReturnStatus);
 901              		.loc 1 321 0
 902 0694 0C001BE5 		ldr	r0, [fp, #-12]
 903 0698 FEFFFFEB 		bl	domDupErrorHandler
 904              	.L40:
 322:../domesdayDuplicator.c ****     }
 323:../domesdayDuplicator.c **** 
 324:../domesdayDuplicator.c ****     // String descriptor 2
 325:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_STRING_DESCR, 2, (uint8_t *)USBProductDscr);
 905              		.loc 1 325 0
 906 069c 0500A0E3 		mov	r0, #5
 907 06a0 0210A0E3 		mov	r1, #2
 908 06a4 FC209FE5 		ldr	r2, .L46+88
 909 06a8 FEFFFFEB 		bl	CyU3PUsbSetDesc
 910 06ac 0C000BE5 		str	r0, [fp, #-12]
 326:../domesdayDuplicator.c ****     if (apiReturnStatus != CY_U3P_SUCCESS)
 911              		.loc 1 326 0
 912 06b0 0C301BE5 		ldr	r3, [fp, #-12]
 913 06b4 000053E3 		cmp	r3, #0
 914 06b8 0500000A 		beq	.L41
 327:../domesdayDuplicator.c ****     {
 328:../domesdayDuplicator.c ****         CyU3PDebugPrint(4, "CyU3PUsbSetDesc string descriptor 2 failed, Error code = %d\n", apiRetu
 915              		.loc 1 328 0
 916 06bc 0400A0E3 		mov	r0, #4
 917 06c0 E4109FE5 		ldr	r1, .L46+92
 918 06c4 0C201BE5 		ldr	r2, [fp, #-12]
 919 06c8 FEFFFFEB 		bl	CyU3PDebugPrint
 329:../domesdayDuplicator.c ****         domDupErrorHandler(apiReturnStatus);
 920              		.loc 1 329 0
 921 06cc 0C001BE5 		ldr	r0, [fp, #-12]
 922 06d0 FEFFFFEB 		bl	domDupErrorHandler
 923              	.L41:
 330:../domesdayDuplicator.c ****     }
 331:../domesdayDuplicator.c **** 
 332:../domesdayDuplicator.c ****     // Show status in debug console
 333:../domesdayDuplicator.c ****     CyU3PDebugPrint (4, "Initialisation successfull; Connecting to host\r\n");
 924              		.loc 1 333 0
 925 06d4 0400A0E3 		mov	r0, #4
 926 06d8 D0109FE5 		ldr	r1, .L46+96
 927 06dc FEFFFFEB 		bl	CyU3PDebugPrint
 334:../domesdayDuplicator.c **** 
 335:../domesdayDuplicator.c ****     // Connect to the host
 336:../domesdayDuplicator.c ****     if (!noRenum) {
 928              		.loc 1 336 0
 929 06e0 08301BE5 		ldr	r3, [fp, #-8]
 930 06e4 000053E3 		cmp	r3, #0
 931 06e8 0D00001A 		bne	.L42
 337:../domesdayDuplicator.c ****         apiReturnStatus = CyU3PConnectState(CyTrue, CyTrue);
 932              		.loc 1 337 0
 933 06ec 0100A0E3 		mov	r0, #1
 934 06f0 0110A0E3 		mov	r1, #1
 935 06f4 FEFFFFEB 		bl	CyU3PConnectState
 936 06f8 0C000BE5 		str	r0, [fp, #-12]
 338:../domesdayDuplicator.c ****         if (apiReturnStatus != CY_U3P_SUCCESS) {
 937              		.loc 1 338 0
 938 06fc 0C301BE5 		ldr	r3, [fp, #-12]
 939 0700 000053E3 		cmp	r3, #0
 940 0704 0C00000A 		beq	.L44
 339:../domesdayDuplicator.c ****             CyU3PDebugPrint (4, "CyU3PConnectState failed, Error code = %d\n", apiReturnStatus);
 941              		.loc 1 339 0
 942 0708 0400A0E3 		mov	r0, #4
 943 070c A0109FE5 		ldr	r1, .L46+100
 944 0710 0C201BE5 		ldr	r2, [fp, #-12]
 945 0714 FEFFFFEB 		bl	CyU3PDebugPrint
 340:../domesdayDuplicator.c ****             domDupErrorHandler(apiReturnStatus);
 946              		.loc 1 340 0
 947 0718 0C001BE5 		ldr	r0, [fp, #-12]
 948 071c FEFFFFEB 		bl	domDupErrorHandler
 949 0720 050000EA 		b	.L44
 950              	.L42:
 341:../domesdayDuplicator.c ****         }
 342:../domesdayDuplicator.c ****     } else {
 343:../domesdayDuplicator.c ****     	// If application is already active.  Restart the application
 344:../domesdayDuplicator.c ****         if (glIsApplnActive) domDupStopApplication ();
 951              		.loc 1 344 0
 952 0724 8C309FE5 		ldr	r3, .L46+104
 953 0728 003093E5 		ldr	r3, [r3]
 954 072c 000053E3 		cmp	r3, #0
 955 0730 0000000A 		beq	.L45
 956              		.loc 1 344 0 is_stmt 0 discriminator 1
 957 0734 FEFFFFEB 		bl	domDupStopApplication
 958              	.L45:
 345:../domesdayDuplicator.c **** 
 346:../domesdayDuplicator.c ****         // Start the application
 347:../domesdayDuplicator.c ****         domDupStartApplication ();
 959              		.loc 1 347 0 is_stmt 1
 960 0738 FEFFFFEB 		bl	domDupStartApplication
 961              	.L44:
 348:../domesdayDuplicator.c ****     }
 349:../domesdayDuplicator.c ****     CyU3PDebugPrint(8, "Application initialisation complete.\r\n");
 962              		.loc 1 349 0
 963 073c 0800A0E3 		mov	r0, #8
 964 0740 74109FE5 		ldr	r1, .L46+108
 965 0744 FEFFFFEB 		bl	CyU3PDebugPrint
 350:../domesdayDuplicator.c **** }
 966              		.loc 1 350 0
 967 0748 04D04BE2 		sub	sp, fp, #4
 968              		@ sp needed
 969 074c 0088BDE8 		ldmfd	sp!, {fp, pc}
 970              	.L47:
 971              		.align	2
 972              	.L46:
 973 0750 9C000000 		.word	.LC4
 974 0754 00000000 		.word	domDupUSBSetupCB
 975 0758 00000000 		.word	domDupUSBEventCB
 976 075c 00000000 		.word	domDupLPMRequestCB
 977 0760 00000000 		.word	USB30DeviceDscr
 978 0764 C4000000 		.word	.LC5
 979 0768 00000000 		.word	USB20DeviceDscr
 980 076c F4000000 		.word	.LC6
 981 0770 00000000 		.word	USBBOSDscr
 982 0774 24010000 		.word	.LC7
 983 0778 00000000 		.word	USBDeviceQualDscr
 984 077c 54010000 		.word	.LC8
 985 0780 00000000 		.word	USBSSConfigDscr
 986 0784 94010000 		.word	.LC9
 987 0788 00000000 		.word	USBHSConfigDscr
 988 078c D8010000 		.word	.LC10
 989 0790 00000000 		.word	USBFSConfigDscr
 990 0794 18020000 		.word	.LC11
 991 0798 00000000 		.word	USBStringLangIDDscr
 992 079c 58020000 		.word	.LC12
 993 07a0 00000000 		.word	USBManufactureDscr
 994 07a4 98020000 		.word	.LC13
 995 07a8 00000000 		.word	USBProductDscr
 996 07ac D8020000 		.word	.LC14
 997 07b0 18030000 		.word	.LC15
 998 07b4 4C030000 		.word	.LC16
 999 07b8 00000000 		.word	glIsApplnActive
 1000 07bc 78030000 		.word	.LC17
 1001              		.cfi_endproc
 1002              	.LFE3:
 1004              		.section	.rodata
 1005 039f 00       		.align	2
 1006              	.LC18:
 1007 03a0 4552524F 		.ascii	"ERROR: CyU3PUsbGetSpeed returned an invalid speed!\015"
 1007      523A2043 
 1007      79553350 
 1007      55736247 
 1007      65745370 
 1008 03d3 0A00     		.ascii	"\012\000"
 1009 03d5 000000   		.align	2
 1010              	.LC19:
 1011 03d8 4552524F 		.ascii	"ERROR: USB 2 is not supported, connect device to a "
 1011      523A2055 
 1011      53422032 
 1011      20697320 
 1011      6E6F7420 
 1012 040b 55534220 		.ascii	"USB 3 port!\015\012\000"
 1012      3320706F 
 1012      7274210D 
 1012      0A00
 1013 0419 000000   		.align	2
 1014              	.LC20:
 1015 041c 43795533 		.ascii	"CyU3PSetEpConfig failed, Error code = %d\012\000"
 1015      50536574 
 1015      4570436F 
 1015      6E666967 
 1015      20666169 
 1016 0446 0000     		.align	2
 1017              	.LC21:
 1018 0448 43795533 		.ascii	"CyU3PDmaChannelCreate failed, Error code = %d\012\000"
 1018      50446D61 
 1018      4368616E 
 1018      6E656C43 
 1018      72656174 
 1019 0477 00       		.align	2
 1020              	.LC22:
 1021 0478 43795533 		.ascii	"CyU3PDmaChannelSetXfer failed, Error code = %d\012\000"
 1021      50446D61 
 1021      4368616E 
 1021      6E656C53 
 1021      65745866 
 1022              		.align	2
 1023              	.LC23:
 1024 04a8 43795533 		.ascii	"CyU3PGpifLoad failed, error code = %d\012\000"
 1024      50477069 
 1024      664C6F61 
 1024      64206661 
 1024      696C6564 
 1025 04cf 00       		.align	2
 1026              	.LC24:
 1027 04d0 43795533 		.ascii	"CyU3PGpifSocketConfigure failed for thread0, error "
 1027      50477069 
 1027      66536F63 
 1027      6B657443 
 1027      6F6E6669 
 1028 0503 636F6465 		.ascii	"code = %d\012\000"
 1028      203D2025 
 1028      640A00
 1029 050e 0000     		.align	2
 1030              	.LC25:
 1031 0510 43795533 		.ascii	"CyU3PGpifSMStart failed, error code = %d\012\000"
 1031      50477069 
 1031      66534D53 
 1031      74617274 
 1031      20666169 
 1032              		.text
 1033              		.align	2
 1034              		.global	domDupStartApplication
 1036              	domDupStartApplication:
 1037              	.LFB4:
 351:../domesdayDuplicator.c **** 
 352:../domesdayDuplicator.c **** // Function to start application once SET_CONF received from host
 353:../domesdayDuplicator.c **** void domDupStartApplication(void)
 354:../domesdayDuplicator.c **** {
 1038              		.loc 1 354 0
 1039              		.cfi_startproc
 1040              		@ args = 0, pretend = 0, frame = 56
 1041              		@ frame_needed = 1, uses_anonymous_args = 0
 1042 07c0 00482DE9 		stmfd	sp!, {fp, lr}
 1043              	.LCFI8:
 1044              		.cfi_def_cfa_offset 8
 1045              		.cfi_offset 11, -8
 1046              		.cfi_offset 14, -4
 1047 07c4 04B08DE2 		add	fp, sp, #4
 1048              	.LCFI9:
 1049              		.cfi_def_cfa 11, 4
 1050 07c8 40D04DE2 		sub	sp, sp, #64
 355:../domesdayDuplicator.c ****     uint16_t size = 0;
 1051              		.loc 1 355 0
 1052 07cc 0030A0E3 		mov	r3, #0
 1053 07d0 B6304BE1 		strh	r3, [fp, #-6]	@ movhi
 356:../domesdayDuplicator.c ****     CyU3PEpConfig_t epCfg;
 357:../domesdayDuplicator.c ****     CyU3PDmaChannelConfig_t dmaConfig;
 358:../domesdayDuplicator.c ****     CyU3PReturnStatus_t apiReturnStatus = CY_U3P_SUCCESS;
 1054              		.loc 1 358 0
 1055 07d4 0030A0E3 		mov	r3, #0
 1056 07d8 0C300BE5 		str	r3, [fp, #-12]
 359:../domesdayDuplicator.c ****     CyU3PUSBSpeed_t usbSpeed = CyU3PUsbGetSpeed();
 1057              		.loc 1 359 0
 1058 07dc FEFFFFEB 		bl	CyU3PUsbGetSpeed
 1059 07e0 0030A0E1 		mov	r3, r0
 1060 07e4 0D304BE5 		strb	r3, [fp, #-13]
 360:../domesdayDuplicator.c **** 
 361:../domesdayDuplicator.c ****     // Check the USB speed and set the end-point size
 362:../domesdayDuplicator.c ****     switch (usbSpeed) {
 1061              		.loc 1 362 0
 1062 07e8 0D305BE5 		ldrb	r3, [fp, #-13]	@ zero_extendqisi2
 1063 07ec 020053E3 		cmp	r3, #2
 1064 07f0 0600000A 		beq	.L50
 1065 07f4 030053E3 		cmp	r3, #3
 1066 07f8 0700000A 		beq	.L51
 1067 07fc 010053E3 		cmp	r3, #1
 1068 0800 0800001A 		bne	.L63
 363:../domesdayDuplicator.c ****     case CY_U3P_FULL_SPEED:
 364:../domesdayDuplicator.c ****         size = 64;
 1069              		.loc 1 364 0
 1070 0804 4030A0E3 		mov	r3, #64
 1071 0808 B6304BE1 		strh	r3, [fp, #-6]	@ movhi
 365:../domesdayDuplicator.c ****         break;
 1072              		.loc 1 365 0
 1073 080c 0B0000EA 		b	.L53
 1074              	.L50:
 366:../domesdayDuplicator.c **** 
 367:../domesdayDuplicator.c ****     case CY_U3P_HIGH_SPEED:
 368:../domesdayDuplicator.c ****         size = 512;
 1075              		.loc 1 368 0
 1076 0810 023CA0E3 		mov	r3, #512
 1077 0814 B6304BE1 		strh	r3, [fp, #-6]	@ movhi
 369:../domesdayDuplicator.c ****         break;
 1078              		.loc 1 369 0
 1079 0818 080000EA 		b	.L53
 1080              	.L51:
 370:../domesdayDuplicator.c **** 
 371:../domesdayDuplicator.c ****     case  CY_U3P_SUPER_SPEED:
 372:../domesdayDuplicator.c ****         size = 1024;
 1081              		.loc 1 372 0
 1082 081c 013BA0E3 		mov	r3, #1024
 1083 0820 B6304BE1 		strh	r3, [fp, #-6]	@ movhi
 373:../domesdayDuplicator.c ****         break;
 1084              		.loc 1 373 0
 1085 0824 050000EA 		b	.L53
 1086              	.L63:
 374:../domesdayDuplicator.c **** 
 375:../domesdayDuplicator.c ****     default:
 376:../domesdayDuplicator.c ****         CyU3PDebugPrint (4, "ERROR: CyU3PUsbGetSpeed returned an invalid speed!\r\n");
 1087              		.loc 1 376 0
 1088 0828 0400A0E3 		mov	r0, #4
 1089 082c 2C129FE5 		ldr	r1, .L64
 1090 0830 FEFFFFEB 		bl	CyU3PDebugPrint
 377:../domesdayDuplicator.c ****         domDupErrorHandler (CY_U3P_ERROR_FAILURE);
 1091              		.loc 1 377 0
 1092 0834 4A00A0E3 		mov	r0, #74
 1093 0838 FEFFFFEB 		bl	domDupErrorHandler
 378:../domesdayDuplicator.c ****         break;
 1094              		.loc 1 378 0
 1095 083c 0000A0E1 		mov	r0, r0	@ nop
 1096              	.L53:
 379:../domesdayDuplicator.c ****     }
 380:../domesdayDuplicator.c **** 
 381:../domesdayDuplicator.c ****     // Check that we are connected to a USB 3 host
 382:../domesdayDuplicator.c ****     if (usbSpeed != CY_U3P_SUPER_SPEED) {
 1097              		.loc 1 382 0
 1098 0840 0D305BE5 		ldrb	r3, [fp, #-13]	@ zero_extendqisi2
 1099 0844 030053E3 		cmp	r3, #3
 1100 0848 0400000A 		beq	.L54
 383:../domesdayDuplicator.c ****     	CyU3PDebugPrint (4, "ERROR: USB 2 is not supported, connect device to a USB 3 port!\r\n");
 1101              		.loc 1 383 0
 1102 084c 0400A0E3 		mov	r0, #4
 1103 0850 0C129FE5 		ldr	r1, .L64+4
 1104 0854 FEFFFFEB 		bl	CyU3PDebugPrint
 384:../domesdayDuplicator.c ****     	domDupErrorHandler (CY_U3P_ERROR_FAILURE);
 1105              		.loc 1 384 0
 1106 0858 4A00A0E3 		mov	r0, #74
 1107 085c FEFFFFEB 		bl	domDupErrorHandler
 1108              	.L54:
 385:../domesdayDuplicator.c ****     }
 386:../domesdayDuplicator.c **** 
 387:../domesdayDuplicator.c ****     CyU3PMemSet ((uint8_t *)&epCfg, 0, sizeof (epCfg));
 1109              		.loc 1 387 0
 1110 0860 1C304BE2 		sub	r3, fp, #28
 1111 0864 0300A0E1 		mov	r0, r3
 1112 0868 0010A0E3 		mov	r1, #0
 1113 086c 0C20A0E3 		mov	r2, #12
 1114 0870 FEFFFFEB 		bl	CyU3PMemSet
 388:../domesdayDuplicator.c ****     epCfg.enable = CyTrue;
 1115              		.loc 1 388 0
 1116 0874 0130A0E3 		mov	r3, #1
 1117 0878 1C300BE5 		str	r3, [fp, #-28]
 389:../domesdayDuplicator.c ****     epCfg.epType = CY_U3P_USB_EP_BULK;
 1118              		.loc 1 389 0
 1119 087c 0230A0E3 		mov	r3, #2
 1120 0880 18304BE5 		strb	r3, [fp, #-24]
 390:../domesdayDuplicator.c ****     epCfg.burstLen = (usbSpeed == CY_U3P_SUPER_SPEED) ? (CY_FX_EP_BURST_LENGTH) : 1;
 1121              		.loc 1 390 0
 1122 0884 0D305BE5 		ldrb	r3, [fp, #-13]	@ zero_extendqisi2
 1123 0888 030053E3 		cmp	r3, #3
 1124 088c 0100001A 		bne	.L55
 1125              		.loc 1 390 0 is_stmt 0 discriminator 1
 1126 0890 1030A0E3 		mov	r3, #16
 1127 0894 000000EA 		b	.L56
 1128              	.L55:
 1129              		.loc 1 390 0 discriminator 2
 1130 0898 0130A0E3 		mov	r3, #1
 1131              	.L56:
 1132              		.loc 1 390 0 discriminator 3
 1133 089c 12304BE5 		strb	r3, [fp, #-18]
 391:../domesdayDuplicator.c ****     epCfg.streams = 0;
 1134              		.loc 1 391 0 is_stmt 1 discriminator 3
 1135 08a0 0030A0E3 		mov	r3, #0
 1136 08a4 B6314BE1 		strh	r3, [fp, #-22]	@ movhi
 392:../domesdayDuplicator.c ****     epCfg.pcktSize = size;
 1137              		.loc 1 392 0 discriminator 3
 1138 08a8 B6305BE1 		ldrh	r3, [fp, #-6]	@ movhi
 1139 08ac B4314BE1 		strh	r3, [fp, #-20]	@ movhi
 393:../domesdayDuplicator.c **** 
 394:../domesdayDuplicator.c ****     // Configure consumer end-point
 395:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PSetEpConfig(CY_FX_EP_CONSUMER, &epCfg);
 1140              		.loc 1 395 0 discriminator 3
 1141 08b0 1C304BE2 		sub	r3, fp, #28
 1142 08b4 8100A0E3 		mov	r0, #129
 1143 08b8 0310A0E1 		mov	r1, r3
 1144 08bc FEFFFFEB 		bl	CyU3PSetEpConfig
 1145 08c0 0C000BE5 		str	r0, [fp, #-12]
 396:../domesdayDuplicator.c ****     if (apiReturnStatus != CY_U3P_SUCCESS) {
 1146              		.loc 1 396 0 discriminator 3
 1147 08c4 0C301BE5 		ldr	r3, [fp, #-12]
 1148 08c8 000053E3 		cmp	r3, #0
 1149 08cc 0500000A 		beq	.L57
 397:../domesdayDuplicator.c ****         CyU3PDebugPrint(4, "CyU3PSetEpConfig failed, Error code = %d\n", apiReturnStatus);
 1150              		.loc 1 397 0
 1151 08d0 0400A0E3 		mov	r0, #4
 1152 08d4 8C119FE5 		ldr	r1, .L64+8
 1153 08d8 0C201BE5 		ldr	r2, [fp, #-12]
 1154 08dc FEFFFFEB 		bl	CyU3PDebugPrint
 398:../domesdayDuplicator.c ****         domDupErrorHandler(apiReturnStatus);
 1155              		.loc 1 398 0
 1156 08e0 0C001BE5 		ldr	r0, [fp, #-12]
 1157 08e4 FEFFFFEB 		bl	domDupErrorHandler
 1158              	.L57:
 399:../domesdayDuplicator.c ****     }
 400:../domesdayDuplicator.c **** 
 401:../domesdayDuplicator.c ****     // Flush the end-point
 402:../domesdayDuplicator.c ****     CyU3PUsbFlushEp(CY_FX_EP_CONSUMER);
 1159              		.loc 1 402 0
 1160 08e8 8100A0E3 		mov	r0, #129
 1161 08ec FEFFFFEB 		bl	CyU3PUsbFlushEp
 403:../domesdayDuplicator.c **** 
 404:../domesdayDuplicator.c ****     // Create a DMA AUTO channel for the GPIF to USB transfer
 405:../domesdayDuplicator.c ****     CyU3PMemSet ((uint8_t *)&dmaConfig, 0, sizeof (dmaConfig));
 1162              		.loc 1 405 0
 1163 08f0 38304BE2 		sub	r3, fp, #56
 1164 08f4 0300A0E1 		mov	r0, r3
 1165 08f8 0010A0E3 		mov	r1, #0
 1166 08fc 1C20A0E3 		mov	r2, #28
 1167 0900 FEFFFFEB 		bl	CyU3PMemSet
 406:../domesdayDuplicator.c ****     dmaConfig.size  = CY_FX_DMA_BUF_SIZE;
 1168              		.loc 1 406 0
 1169 0904 0139A0E3 		mov	r3, #16384
 1170 0908 B8334BE1 		strh	r3, [fp, #-56]	@ movhi
 407:../domesdayDuplicator.c ****     dmaConfig.count = CY_FX_DMA_BUF_COUNT;
 1171              		.loc 1 407 0
 1172 090c 0430A0E3 		mov	r3, #4
 1173 0910 B6334BE1 		strh	r3, [fp, #-54]	@ movhi
 408:../domesdayDuplicator.c ****     dmaConfig.prodSckId = CY_FX_EP_PRODUCER_SOCKET;
 1174              		.loc 1 408 0
 1175 0914 013CA0E3 		mov	r3, #256
 1176 0918 B4334BE1 		strh	r3, [fp, #-52]	@ movhi
 409:../domesdayDuplicator.c ****     dmaConfig.consSckId = CY_FX_EP_CONSUMER_SOCKET;
 1177              		.loc 1 409 0
 1178 091c 48319FE5 		ldr	r3, .L64+12
 1179 0920 B2334BE1 		strh	r3, [fp, #-50]	@ movhi
 410:../domesdayDuplicator.c ****     dmaConfig.dmaMode = CY_U3P_DMA_MODE_BYTE;
 1180              		.loc 1 410 0
 1181 0924 0030A0E3 		mov	r3, #0
 1182 0928 28304BE5 		strb	r3, [fp, #-40]
 411:../domesdayDuplicator.c **** 
 412:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PDmaChannelCreate(&glDmaChHandle, CY_U3P_DMA_TYPE_AUTO, &dmaConfig);
 1183              		.loc 1 412 0
 1184 092c 38304BE2 		sub	r3, fp, #56
 1185 0930 38019FE5 		ldr	r0, .L64+16
 1186 0934 0010A0E3 		mov	r1, #0
 1187 0938 0320A0E1 		mov	r2, r3
 1188 093c FEFFFFEB 		bl	CyU3PDmaChannelCreate
 1189 0940 0C000BE5 		str	r0, [fp, #-12]
 413:../domesdayDuplicator.c ****     if (apiReturnStatus != CY_U3P_SUCCESS) {
 1190              		.loc 1 413 0
 1191 0944 0C301BE5 		ldr	r3, [fp, #-12]
 1192 0948 000053E3 		cmp	r3, #0
 1193 094c 0500000A 		beq	.L58
 414:../domesdayDuplicator.c ****         CyU3PDebugPrint(4, "CyU3PDmaChannelCreate failed, Error code = %d\n", apiReturnStatus);
 1194              		.loc 1 414 0
 1195 0950 0400A0E3 		mov	r0, #4
 1196 0954 18119FE5 		ldr	r1, .L64+20
 1197 0958 0C201BE5 		ldr	r2, [fp, #-12]
 1198 095c FEFFFFEB 		bl	CyU3PDebugPrint
 415:../domesdayDuplicator.c ****         domDupErrorHandler(apiReturnStatus);
 1199              		.loc 1 415 0
 1200 0960 0C001BE5 		ldr	r0, [fp, #-12]
 1201 0964 FEFFFFEB 		bl	domDupErrorHandler
 1202              	.L58:
 416:../domesdayDuplicator.c ****     }
 417:../domesdayDuplicator.c **** 
 418:../domesdayDuplicator.c ****     // Start the DMA channel transfer
 419:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PDmaChannelSetXfer(&glDmaChHandle, 0);
 1203              		.loc 1 419 0
 1204 0968 00019FE5 		ldr	r0, .L64+16
 1205 096c 0010A0E3 		mov	r1, #0
 1206 0970 FEFFFFEB 		bl	CyU3PDmaChannelSetXfer
 1207 0974 0C000BE5 		str	r0, [fp, #-12]
 420:../domesdayDuplicator.c ****     if (apiReturnStatus != CY_U3P_SUCCESS) {
 1208              		.loc 1 420 0
 1209 0978 0C301BE5 		ldr	r3, [fp, #-12]
 1210 097c 000053E3 		cmp	r3, #0
 1211 0980 0500000A 		beq	.L59
 421:../domesdayDuplicator.c **** 		CyU3PDebugPrint(4, "CyU3PDmaChannelSetXfer failed, Error code = %d\n", apiReturnStatus);
 1212              		.loc 1 421 0
 1213 0984 0400A0E3 		mov	r0, #4
 1214 0988 E8109FE5 		ldr	r1, .L64+24
 1215 098c 0C201BE5 		ldr	r2, [fp, #-12]
 1216 0990 FEFFFFEB 		bl	CyU3PDebugPrint
 422:../domesdayDuplicator.c **** 		domDupErrorHandler(apiReturnStatus);
 1217              		.loc 1 422 0
 1218 0994 0C001BE5 		ldr	r0, [fp, #-12]
 1219 0998 FEFFFFEB 		bl	domDupErrorHandler
 1220              	.L59:
 423:../domesdayDuplicator.c **** 	}
 424:../domesdayDuplicator.c **** 
 425:../domesdayDuplicator.c ****     // Load the GPIF state machine
 426:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PGpifLoad (&CyFxGpifConfig);
 1221              		.loc 1 426 0
 1222 099c D8009FE5 		ldr	r0, .L64+28
 1223 09a0 FEFFFFEB 		bl	CyU3PGpifLoad
 1224 09a4 0C000BE5 		str	r0, [fp, #-12]
 427:../domesdayDuplicator.c **** 
 428:../domesdayDuplicator.c ****     // Register callback for GPIF CPU interrupt events
 429:../domesdayDuplicator.c ****     CyU3PGpifRegisterCallback(GpifDmaEventCB);
 1225              		.loc 1 429 0
 1226 09a8 D0009FE5 		ldr	r0, .L64+32
 1227 09ac FEFFFFEB 		bl	CyU3PGpifRegisterCallback
 430:../domesdayDuplicator.c **** 
 431:../domesdayDuplicator.c ****     if (apiReturnStatus != CY_U3P_SUCCESS) {
 1228              		.loc 1 431 0
 1229 09b0 0C301BE5 		ldr	r3, [fp, #-12]
 1230 09b4 000053E3 		cmp	r3, #0
 1231 09b8 0500000A 		beq	.L60
 432:../domesdayDuplicator.c ****         CyU3PDebugPrint(4, "CyU3PGpifLoad failed, error code = %d\n", apiReturnStatus);
 1232              		.loc 1 432 0
 1233 09bc 0400A0E3 		mov	r0, #4
 1234 09c0 BC109FE5 		ldr	r1, .L64+36
 1235 09c4 0C201BE5 		ldr	r2, [fp, #-12]
 1236 09c8 FEFFFFEB 		bl	CyU3PDebugPrint
 433:../domesdayDuplicator.c ****         domDupErrorHandler (apiReturnStatus);
 1237              		.loc 1 433 0
 1238 09cc 0C001BE5 		ldr	r0, [fp, #-12]
 1239 09d0 FEFFFFEB 		bl	domDupErrorHandler
 1240              	.L60:
 434:../domesdayDuplicator.c ****     }
 435:../domesdayDuplicator.c **** 
 436:../domesdayDuplicator.c ****     // Watermark value = 3, bus width = 16
 437:../domesdayDuplicator.c ****     // Therefore, the number of 16-bit data words that may be written after the clock edge at which
 438:../domesdayDuplicator.c ****     // flag is sampled asserted = (3 x (32/16))  4 = 2
 439:../domesdayDuplicator.c **** 
 440:../domesdayDuplicator.c ****     // Set the thread 0 water-mark level to 1x 32 bit word
 441:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PGpifSocketConfigure(0, CY_FX_EP_PRODUCER_SOCKET, 3, CyFalse, 1);
 1241              		.loc 1 441 0
 1242 09d4 0130A0E3 		mov	r3, #1
 1243 09d8 00308DE5 		str	r3, [sp]
 1244 09dc 0000A0E3 		mov	r0, #0
 1245 09e0 011CA0E3 		mov	r1, #256
 1246 09e4 0320A0E3 		mov	r2, #3
 1247 09e8 0030A0E3 		mov	r3, #0
 1248 09ec FEFFFFEB 		bl	CyU3PGpifSocketConfigure
 1249 09f0 0C000BE5 		str	r0, [fp, #-12]
 442:../domesdayDuplicator.c ****     if (apiReturnStatus != CY_U3P_SUCCESS) {
 1250              		.loc 1 442 0
 1251 09f4 0C301BE5 		ldr	r3, [fp, #-12]
 1252 09f8 000053E3 		cmp	r3, #0
 1253 09fc 0500000A 		beq	.L61
 443:../domesdayDuplicator.c **** 		CyU3PDebugPrint(4, "CyU3PGpifSocketConfigure failed for thread0, error code = %d\n", apiReturnSta
 1254              		.loc 1 443 0
 1255 0a00 0400A0E3 		mov	r0, #4
 1256 0a04 7C109FE5 		ldr	r1, .L64+40
 1257 0a08 0C201BE5 		ldr	r2, [fp, #-12]
 1258 0a0c FEFFFFEB 		bl	CyU3PDebugPrint
 444:../domesdayDuplicator.c **** 		domDupErrorHandler (apiReturnStatus);
 1259              		.loc 1 444 0
 1260 0a10 0C001BE5 		ldr	r0, [fp, #-12]
 1261 0a14 FEFFFFEB 		bl	domDupErrorHandler
 1262              	.L61:
 445:../domesdayDuplicator.c **** 	}
 446:../domesdayDuplicator.c **** 
 447:../domesdayDuplicator.c **** 	// Start the GPIF state machine
 448:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PGpifSMStart (START, ALPHA_START);
 1263              		.loc 1 448 0
 1264 0a18 0000A0E3 		mov	r0, #0
 1265 0a1c 0010A0E3 		mov	r1, #0
 1266 0a20 FEFFFFEB 		bl	CyU3PGpifSMStart
 1267 0a24 0C000BE5 		str	r0, [fp, #-12]
 449:../domesdayDuplicator.c ****     if (apiReturnStatus != CY_U3P_SUCCESS) {
 1268              		.loc 1 449 0
 1269 0a28 0C301BE5 		ldr	r3, [fp, #-12]
 1270 0a2c 000053E3 		cmp	r3, #0
 1271 0a30 0500000A 		beq	.L62
 450:../domesdayDuplicator.c ****         CyU3PDebugPrint (4, "CyU3PGpifSMStart failed, error code = %d\n", apiReturnStatus);
 1272              		.loc 1 450 0
 1273 0a34 0400A0E3 		mov	r0, #4
 1274 0a38 4C109FE5 		ldr	r1, .L64+44
 1275 0a3c 0C201BE5 		ldr	r2, [fp, #-12]
 1276 0a40 FEFFFFEB 		bl	CyU3PDebugPrint
 451:../domesdayDuplicator.c ****         domDupErrorHandler(apiReturnStatus);
 1277              		.loc 1 451 0
 1278 0a44 0C001BE5 		ldr	r0, [fp, #-12]
 1279 0a48 FEFFFFEB 		bl	domDupErrorHandler
 1280              	.L62:
 452:../domesdayDuplicator.c ****     }
 453:../domesdayDuplicator.c **** 
 454:../domesdayDuplicator.c ****     // Set the application active flag to true
 455:../domesdayDuplicator.c ****     glIsApplnActive = CyTrue;
 1281              		.loc 1 455 0
 1282 0a4c 3C309FE5 		ldr	r3, .L64+48
 1283 0a50 0120A0E3 		mov	r2, #1
 1284 0a54 002083E5 		str	r2, [r3]
 456:../domesdayDuplicator.c **** }
 1285              		.loc 1 456 0
 1286 0a58 04D04BE2 		sub	sp, fp, #4
 1287              		@ sp needed
 1288 0a5c 0088BDE8 		ldmfd	sp!, {fp, pc}
 1289              	.L65:
 1290              		.align	2
 1291              	.L64:
 1292 0a60 A0030000 		.word	.LC18
 1293 0a64 D8030000 		.word	.LC19
 1294 0a68 1C040000 		.word	.LC20
 1295 0a6c 01030000 		.word	769
 1296 0a70 00000000 		.word	glDmaChHandle
 1297 0a74 48040000 		.word	.LC21
 1298 0a78 78040000 		.word	.LC22
 1299 0a7c 00000000 		.word	CyFxGpifConfig
 1300 0a80 00000000 		.word	GpifDmaEventCB
 1301 0a84 A8040000 		.word	.LC23
 1302 0a88 D0040000 		.word	.LC24
 1303 0a8c 10050000 		.word	.LC25
 1304 0a90 00000000 		.word	glIsApplnActive
 1305              		.cfi_endproc
 1306              	.LFE4:
 1308              		.align	2
 1309              		.global	domDupStopApplication
 1311              	domDupStopApplication:
 1312              	.LFB5:
 457:../domesdayDuplicator.c **** 
 458:../domesdayDuplicator.c **** // Function to stop the application.  Called when host signals RESET or DISCONNECT
 459:../domesdayDuplicator.c **** void domDupStopApplication(void)
 460:../domesdayDuplicator.c **** {
 1313              		.loc 1 460 0
 1314              		.cfi_startproc
 1315              		@ args = 0, pretend = 0, frame = 16
 1316              		@ frame_needed = 1, uses_anonymous_args = 0
 1317 0a94 00482DE9 		stmfd	sp!, {fp, lr}
 1318              	.LCFI10:
 1319              		.cfi_def_cfa_offset 8
 1320              		.cfi_offset 11, -8
 1321              		.cfi_offset 14, -4
 1322 0a98 04B08DE2 		add	fp, sp, #4
 1323              	.LCFI11:
 1324              		.cfi_def_cfa 11, 4
 1325 0a9c 10D04DE2 		sub	sp, sp, #16
 461:../domesdayDuplicator.c ****     CyU3PEpConfig_t epCfg;
 462:../domesdayDuplicator.c ****     CyU3PReturnStatus_t apiReturnStatus = CY_U3P_SUCCESS;
 1326              		.loc 1 462 0
 1327 0aa0 0030A0E3 		mov	r3, #0
 1328 0aa4 08300BE5 		str	r3, [fp, #-8]
 463:../domesdayDuplicator.c **** 
 464:../domesdayDuplicator.c ****     // Set the application activity flag to false
 465:../domesdayDuplicator.c ****     glIsApplnActive = CyFalse;
 1329              		.loc 1 465 0
 1330 0aa8 7C309FE5 		ldr	r3, .L68
 1331 0aac 0020A0E3 		mov	r2, #0
 1332 0ab0 002083E5 		str	r2, [r3]
 466:../domesdayDuplicator.c **** 
 467:../domesdayDuplicator.c ****     // Disable the GPIF state-machine
 468:../domesdayDuplicator.c ****     CyU3PGpifDisable (CyTrue);
 1333              		.loc 1 468 0
 1334 0ab4 0100A0E3 		mov	r0, #1
 1335 0ab8 FEFFFFEB 		bl	CyU3PGpifDisable
 469:../domesdayDuplicator.c **** 
 470:../domesdayDuplicator.c ****     // Disable PIB
 471:../domesdayDuplicator.c ****     CyU3PPibDeInit();
 1336              		.loc 1 471 0
 1337 0abc FEFFFFEB 		bl	CyU3PPibDeInit
 472:../domesdayDuplicator.c **** 
 473:../domesdayDuplicator.c ****     // Destroy DMA channels
 474:../domesdayDuplicator.c ****     CyU3PDmaChannelDestroy (&glDmaChHandle);
 1338              		.loc 1 474 0
 1339 0ac0 68009FE5 		ldr	r0, .L68+4
 1340 0ac4 FEFFFFEB 		bl	CyU3PDmaChannelDestroy
 475:../domesdayDuplicator.c **** 
 476:../domesdayDuplicator.c ****     // Flush end-points
 477:../domesdayDuplicator.c ****     CyU3PUsbFlushEp(CY_FX_EP_CONSUMER);
 1341              		.loc 1 477 0
 1342 0ac8 8100A0E3 		mov	r0, #129
 1343 0acc FEFFFFEB 		bl	CyU3PUsbFlushEp
 478:../domesdayDuplicator.c **** 
 479:../domesdayDuplicator.c ****     // Disable end-points
 480:../domesdayDuplicator.c ****     CyU3PMemSet ((uint8_t *)&epCfg, 0, sizeof (epCfg));
 1344              		.loc 1 480 0
 1345 0ad0 14304BE2 		sub	r3, fp, #20
 1346 0ad4 0300A0E1 		mov	r0, r3
 1347 0ad8 0010A0E3 		mov	r1, #0
 1348 0adc 0C20A0E3 		mov	r2, #12
 1349 0ae0 FEFFFFEB 		bl	CyU3PMemSet
 481:../domesdayDuplicator.c ****     epCfg.enable = CyFalse;
 1350              		.loc 1 481 0
 1351 0ae4 0030A0E3 		mov	r3, #0
 1352 0ae8 14300BE5 		str	r3, [fp, #-20]
 482:../domesdayDuplicator.c **** 
 483:../domesdayDuplicator.c ****     // Un-configure consumer end-point
 484:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PSetEpConfig(CY_FX_EP_CONSUMER, &epCfg);
 1353              		.loc 1 484 0
 1354 0aec 14304BE2 		sub	r3, fp, #20
 1355 0af0 8100A0E3 		mov	r0, #129
 1356 0af4 0310A0E1 		mov	r1, r3
 1357 0af8 FEFFFFEB 		bl	CyU3PSetEpConfig
 1358 0afc 08000BE5 		str	r0, [fp, #-8]
 485:../domesdayDuplicator.c ****     if (apiReturnStatus != CY_U3P_SUCCESS) {
 1359              		.loc 1 485 0
 1360 0b00 08301BE5 		ldr	r3, [fp, #-8]
 1361 0b04 000053E3 		cmp	r3, #0
 1362 0b08 0500000A 		beq	.L66
 486:../domesdayDuplicator.c ****         CyU3PDebugPrint(4, "CyU3PSetEpConfig failed, Error code = %d\n", apiReturnStatus);
 1363              		.loc 1 486 0
 1364 0b0c 0400A0E3 		mov	r0, #4
 1365 0b10 1C109FE5 		ldr	r1, .L68+8
 1366 0b14 08201BE5 		ldr	r2, [fp, #-8]
 1367 0b18 FEFFFFEB 		bl	CyU3PDebugPrint
 487:../domesdayDuplicator.c ****         domDupErrorHandler(apiReturnStatus);
 1368              		.loc 1 487 0
 1369 0b1c 08001BE5 		ldr	r0, [fp, #-8]
 1370 0b20 FEFFFFEB 		bl	domDupErrorHandler
 1371              	.L66:
 488:../domesdayDuplicator.c ****     }
 489:../domesdayDuplicator.c **** }
 1372              		.loc 1 489 0
 1373 0b24 04D04BE2 		sub	sp, fp, #4
 1374              		@ sp needed
 1375 0b28 0088BDE8 		ldmfd	sp!, {fp, pc}
 1376              	.L69:
 1377              		.align	2
 1378              	.L68:
 1379 0b2c 00000000 		.word	glIsApplnActive
 1380 0b30 00000000 		.word	glDmaChHandle
 1381 0b34 1C040000 		.word	.LC20
 1382              		.cfi_endproc
 1383              	.LFE5:
 1385              		.align	2
 1386              		.global	domDupErrorHandler
 1388              	domDupErrorHandler:
 1389              	.LFB6:
 490:../domesdayDuplicator.c **** 
 491:../domesdayDuplicator.c **** // Error handling function
 492:../domesdayDuplicator.c **** void domDupErrorHandler(CyU3PReturnStatus_t apiReturnStatus)
 493:../domesdayDuplicator.c **** {
 1390              		.loc 1 493 0
 1391              		.cfi_startproc
 1392              		@ args = 0, pretend = 0, frame = 8
 1393              		@ frame_needed = 1, uses_anonymous_args = 0
 1394 0b38 00482DE9 		stmfd	sp!, {fp, lr}
 1395              	.LCFI12:
 1396              		.cfi_def_cfa_offset 8
 1397              		.cfi_offset 11, -8
 1398              		.cfi_offset 14, -4
 1399 0b3c 04B08DE2 		add	fp, sp, #4
 1400              	.LCFI13:
 1401              		.cfi_def_cfa 11, 4
 1402 0b40 08D04DE2 		sub	sp, sp, #8
 1403 0b44 08000BE5 		str	r0, [fp, #-8]
 1404              	.L71:
 494:../domesdayDuplicator.c **** 	// Application failed; loop forever
 495:../domesdayDuplicator.c ****     while(1) {
 496:../domesdayDuplicator.c ****         CyU3PThreadSleep(100);
 1405              		.loc 1 496 0 discriminator 1
 1406 0b48 6400A0E3 		mov	r0, #100
 1407 0b4c FEFFFFEB 		bl	_tx_thread_sleep
 497:../domesdayDuplicator.c ****     }
 1408              		.loc 1 497 0 discriminator 1
 1409 0b50 FCFFFFEA 		b	.L71
 1410              		.cfi_endproc
 1411              	.LFE6:
 1413              		.align	2
 1414              		.global	domDupDebugInit
 1416              	domDupDebugInit:
 1417              	.LFB7:
 498:../domesdayDuplicator.c **** }
 499:../domesdayDuplicator.c **** 
 500:../domesdayDuplicator.c **** 
 501:../domesdayDuplicator.c **** 
 502:../domesdayDuplicator.c **** // Initialise debug console.  Debug is routed to UART
 503:../domesdayDuplicator.c **** // Serial speed is 115200 8N1
 504:../domesdayDuplicator.c **** void domDupDebugInit(void)
 505:../domesdayDuplicator.c **** {
 1418              		.loc 1 505 0
 1419              		.cfi_startproc
 1420              		@ args = 0, pretend = 0, frame = 32
 1421              		@ frame_needed = 1, uses_anonymous_args = 0
 1422 0b54 00482DE9 		stmfd	sp!, {fp, lr}
 1423              	.LCFI14:
 1424              		.cfi_def_cfa_offset 8
 1425              		.cfi_offset 11, -8
 1426              		.cfi_offset 14, -4
 1427 0b58 04B08DE2 		add	fp, sp, #4
 1428              	.LCFI15:
 1429              		.cfi_def_cfa 11, 4
 1430 0b5c 20D04DE2 		sub	sp, sp, #32
 506:../domesdayDuplicator.c ****     CyU3PUartConfig_t uartConfig;
 507:../domesdayDuplicator.c ****     CyU3PReturnStatus_t apiReturnStatus = CY_U3P_SUCCESS;
 1431              		.loc 1 507 0
 1432 0b60 0030A0E3 		mov	r3, #0
 1433 0b64 08300BE5 		str	r3, [fp, #-8]
 508:../domesdayDuplicator.c **** 
 509:../domesdayDuplicator.c ****     // Initialise the UART
 510:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PUartInit();
 1434              		.loc 1 510 0
 1435 0b68 FEFFFFEB 		bl	CyU3PUartInit
 1436 0b6c 08000BE5 		str	r0, [fp, #-8]
 511:../domesdayDuplicator.c ****     if (apiReturnStatus != CY_U3P_SUCCESS) {
 1437              		.loc 1 511 0
 1438 0b70 08301BE5 		ldr	r3, [fp, #-8]
 1439 0b74 000053E3 		cmp	r3, #0
 1440 0b78 0100000A 		beq	.L73
 512:../domesdayDuplicator.c ****         // Call the error handling function
 513:../domesdayDuplicator.c ****         domDupErrorHandler(apiReturnStatus);
 1441              		.loc 1 513 0
 1442 0b7c 08001BE5 		ldr	r0, [fp, #-8]
 1443 0b80 FEFFFFEB 		bl	domDupErrorHandler
 1444              	.L73:
 514:../domesdayDuplicator.c ****     }
 515:../domesdayDuplicator.c **** 
 516:../domesdayDuplicator.c ****     // Configure the UART
 517:../domesdayDuplicator.c ****     CyU3PMemSet ((uint8_t *)&uartConfig, 0, sizeof (uartConfig));
 1445              		.loc 1 517 0
 1446 0b84 20304BE2 		sub	r3, fp, #32
 1447 0b88 0300A0E1 		mov	r0, r3
 1448 0b8c 0010A0E3 		mov	r1, #0
 1449 0b90 1820A0E3 		mov	r2, #24
 1450 0b94 FEFFFFEB 		bl	CyU3PMemSet
 518:../domesdayDuplicator.c ****     uartConfig.baudRate = CY_U3P_UART_BAUDRATE_115200;
 1451              		.loc 1 518 0
 1452 0b98 AC309FE5 		ldr	r3, .L77
 1453 0b9c 10300BE5 		str	r3, [fp, #-16]
 519:../domesdayDuplicator.c ****     uartConfig.stopBit = CY_U3P_UART_ONE_STOP_BIT;
 1454              		.loc 1 519 0
 1455 0ba0 0130A0E3 		mov	r3, #1
 1456 0ba4 0C304BE5 		strb	r3, [fp, #-12]
 520:../domesdayDuplicator.c ****     uartConfig.parity = CY_U3P_UART_NO_PARITY;
 1457              		.loc 1 520 0
 1458 0ba8 0030A0E3 		mov	r3, #0
 1459 0bac 0B304BE5 		strb	r3, [fp, #-11]
 521:../domesdayDuplicator.c ****     uartConfig.txEnable = CyTrue;
 1460              		.loc 1 521 0
 1461 0bb0 0130A0E3 		mov	r3, #1
 1462 0bb4 20300BE5 		str	r3, [fp, #-32]
 522:../domesdayDuplicator.c ****     uartConfig.rxEnable = CyFalse;
 1463              		.loc 1 522 0
 1464 0bb8 0030A0E3 		mov	r3, #0
 1465 0bbc 1C300BE5 		str	r3, [fp, #-28]
 523:../domesdayDuplicator.c ****     uartConfig.flowCtrl = CyFalse;
 1466              		.loc 1 523 0
 1467 0bc0 0030A0E3 		mov	r3, #0
 1468 0bc4 18300BE5 		str	r3, [fp, #-24]
 524:../domesdayDuplicator.c ****     uartConfig.isDma = CyTrue;
 1469              		.loc 1 524 0
 1470 0bc8 0130A0E3 		mov	r3, #1
 1471 0bcc 14300BE5 		str	r3, [fp, #-20]
 525:../domesdayDuplicator.c **** 
 526:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PUartSetConfig (&uartConfig, NULL);
 1472              		.loc 1 526 0
 1473 0bd0 20304BE2 		sub	r3, fp, #32
 1474 0bd4 0300A0E1 		mov	r0, r3
 1475 0bd8 0010A0E3 		mov	r1, #0
 1476 0bdc FEFFFFEB 		bl	CyU3PUartSetConfig
 1477 0be0 08000BE5 		str	r0, [fp, #-8]
 527:../domesdayDuplicator.c ****     if (apiReturnStatus != CY_U3P_SUCCESS) {
 1478              		.loc 1 527 0
 1479 0be4 08301BE5 		ldr	r3, [fp, #-8]
 1480 0be8 000053E3 		cmp	r3, #0
 1481 0bec 0100000A 		beq	.L74
 528:../domesdayDuplicator.c ****         domDupErrorHandler(apiReturnStatus);
 1482              		.loc 1 528 0
 1483 0bf0 08001BE5 		ldr	r0, [fp, #-8]
 1484 0bf4 FEFFFFEB 		bl	domDupErrorHandler
 1485              	.L74:
 529:../domesdayDuplicator.c ****     }
 530:../domesdayDuplicator.c **** 
 531:../domesdayDuplicator.c ****     // Set the UART transfer to a large number
 532:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PUartTxSetBlockXfer (0xFFFFFFFF);
 1486              		.loc 1 532 0
 1487 0bf8 0000E0E3 		mvn	r0, #0
 1488 0bfc FEFFFFEB 		bl	CyU3PUartTxSetBlockXfer
 1489 0c00 08000BE5 		str	r0, [fp, #-8]
 533:../domesdayDuplicator.c ****     if (apiReturnStatus != CY_U3P_SUCCESS) {
 1490              		.loc 1 533 0
 1491 0c04 08301BE5 		ldr	r3, [fp, #-8]
 1492 0c08 000053E3 		cmp	r3, #0
 1493 0c0c 0100000A 		beq	.L75
 534:../domesdayDuplicator.c ****         domDupErrorHandler(apiReturnStatus);
 1494              		.loc 1 534 0
 1495 0c10 08001BE5 		ldr	r0, [fp, #-8]
 1496 0c14 FEFFFFEB 		bl	domDupErrorHandler
 1497              	.L75:
 535:../domesdayDuplicator.c ****     }
 536:../domesdayDuplicator.c **** 
 537:../domesdayDuplicator.c ****     // Initialise debug on the UART
 538:../domesdayDuplicator.c ****     apiReturnStatus = CyU3PDebugInit (CY_U3P_LPP_SOCKET_UART_CONS, 8);
 1498              		.loc 1 538 0
 1499 0c18 0300A0E3 		mov	r0, #3
 1500 0c1c 0810A0E3 		mov	r1, #8
 1501 0c20 FEFFFFEB 		bl	CyU3PDebugInit
 1502 0c24 08000BE5 		str	r0, [fp, #-8]
 539:../domesdayDuplicator.c ****     if (apiReturnStatus != CY_U3P_SUCCESS) {
 1503              		.loc 1 539 0
 1504 0c28 08301BE5 		ldr	r3, [fp, #-8]
 1505 0c2c 000053E3 		cmp	r3, #0
 1506 0c30 0100000A 		beq	.L76
 540:../domesdayDuplicator.c ****         domDupErrorHandler(apiReturnStatus);
 1507              		.loc 1 540 0
 1508 0c34 08001BE5 		ldr	r0, [fp, #-8]
 1509 0c38 FEFFFFEB 		bl	domDupErrorHandler
 1510              	.L76:
 541:../domesdayDuplicator.c ****     }
 542:../domesdayDuplicator.c **** 
 543:../domesdayDuplicator.c ****     CyU3PDebugPreamble(CyFalse);
 1511              		.loc 1 543 0
 1512 0c3c 0000A0E3 		mov	r0, #0
 1513 0c40 FEFFFFEB 		bl	CyU3PDebugPreamble
 544:../domesdayDuplicator.c **** }
 1514              		.loc 1 544 0
 1515 0c44 04D04BE2 		sub	sp, fp, #4
 1516              		@ sp needed
 1517 0c48 0088BDE8 		ldmfd	sp!, {fp, pc}
 1518              	.L78:
 1519              		.align	2
 1520              	.L77:
 1521 0c4c 00C20100 		.word	115200
 1522              		.cfi_endproc
 1523              	.LFE7:
 1525              		.section	.rodata
 1526 053a 0000     		.align	2
 1527              	.LC26:
 1528 053c 0D0A4465 		.ascii	"\015\012Debug: Interrupt received from GPIF\015\012"
 1528      6275673A 
 1528      20496E74 
 1528      65727275 
 1528      70742072 
 1529 0563 00       		.ascii	"\000"
 1530              		.text
 1531              		.align	2
 1532              		.global	GpifDmaEventCB
 1534              	GpifDmaEventCB:
 1535              	.LFB8:
 545:../domesdayDuplicator.c **** 
 546:../domesdayDuplicator.c **** // Call back functions ----------------------------------------------------------------------------
 547:../domesdayDuplicator.c **** 
 548:../domesdayDuplicator.c **** // Handle CPU_INT from GPIF callback (used for debug)
 549:../domesdayDuplicator.c **** void GpifDmaEventCB(CyU3PGpifEventType Event, uint8_t State)
 550:../domesdayDuplicator.c **** {
 1536              		.loc 1 550 0
 1537              		.cfi_startproc
 1538              		@ args = 0, pretend = 0, frame = 8
 1539              		@ frame_needed = 1, uses_anonymous_args = 0
 1540 0c50 00482DE9 		stmfd	sp!, {fp, lr}
 1541              	.LCFI16:
 1542              		.cfi_def_cfa_offset 8
 1543              		.cfi_offset 11, -8
 1544              		.cfi_offset 14, -4
 1545 0c54 04B08DE2 		add	fp, sp, #4
 1546              	.LCFI17:
 1547              		.cfi_def_cfa 11, 4
 1548 0c58 08D04DE2 		sub	sp, sp, #8
 1549 0c5c 0020A0E1 		mov	r2, r0
 1550 0c60 0130A0E1 		mov	r3, r1
 1551 0c64 05204BE5 		strb	r2, [fp, #-5]
 1552 0c68 06304BE5 		strb	r3, [fp, #-6]
 551:../domesdayDuplicator.c **** 	if (Event == CYU3P_GPIF_EVT_SM_INTERRUPT) CyU3PDebugPrint(8, "\r\nDebug: Interrupt received from G
 1553              		.loc 1 551 0
 1554 0c6c 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 1555 0c70 010053E3 		cmp	r3, #1
 1556 0c74 0200001A 		bne	.L79
 1557              		.loc 1 551 0 is_stmt 0 discriminator 1
 1558 0c78 0800A0E3 		mov	r0, #8
 1559 0c7c 08109FE5 		ldr	r1, .L81
 1560 0c80 FEFFFFEB 		bl	CyU3PDebugPrint
 1561              	.L79:
 552:../domesdayDuplicator.c **** }
 1562              		.loc 1 552 0 is_stmt 1
 1563 0c84 04D04BE2 		sub	sp, fp, #4
 1564              		@ sp needed
 1565 0c88 0088BDE8 		ldmfd	sp!, {fp, pc}
 1566              	.L82:
 1567              		.align	2
 1568              	.L81:
 1569 0c8c 3C050000 		.word	.LC26
 1570              		.cfi_endproc
 1571              	.LFE8:
 1573              		.section	.rodata
 1574              		.align	2
 1575              	.LC27:
 1576 0564 53544152 		.ascii	"START data collection request received from host\015"
 1576      54206461 
 1576      74612063 
 1576      6F6C6C65 
 1576      6374696F 
 1577 0595 0A00     		.ascii	"\012\000"
 1578 0597 00       		.align	2
 1579              	.LC28:
 1580 0598 53544F50 		.ascii	"STOP data collection request received from host\015"
 1580      20646174 
 1580      6120636F 
 1580      6C6C6563 
 1580      74696F6E 
 1581 05c8 0A00     		.ascii	"\012\000"
 1582              		.text
 1583              		.align	2
 1584              		.global	domDupUSBSetupCB
 1586              	domDupUSBSetupCB:
 1587              	.LFB9:
 553:../domesdayDuplicator.c **** 
 554:../domesdayDuplicator.c **** // USB set-up request callback
 555:../domesdayDuplicator.c **** CyBool_t domDupUSBSetupCB (uint32_t setupData0, uint32_t setupData1)
 556:../domesdayDuplicator.c **** {
 1588              		.loc 1 556 0
 1589              		.cfi_startproc
 1590              		@ args = 0, pretend = 0, frame = 24
 1591              		@ frame_needed = 1, uses_anonymous_args = 0
 1592 0c90 00482DE9 		stmfd	sp!, {fp, lr}
 1593              	.LCFI18:
 1594              		.cfi_def_cfa_offset 8
 1595              		.cfi_offset 11, -8
 1596              		.cfi_offset 14, -4
 1597 0c94 04B08DE2 		add	fp, sp, #4
 1598              	.LCFI19:
 1599              		.cfi_def_cfa 11, 4
 1600 0c98 18D04DE2 		sub	sp, sp, #24
 1601 0c9c 18000BE5 		str	r0, [fp, #-24]
 1602 0ca0 1C100BE5 		str	r1, [fp, #-28]
 557:../domesdayDuplicator.c ****     uint8_t  bRequest, bReqType;
 558:../domesdayDuplicator.c ****     uint8_t  bType, bTarget;
 559:../domesdayDuplicator.c ****     uint16_t wValue;
 560:../domesdayDuplicator.c ****     uint16_t wIndex;
 561:../domesdayDuplicator.c ****     CyBool_t isHandled = CyFalse;
 1603              		.loc 1 561 0
 1604 0ca4 0030A0E3 		mov	r3, #0
 1605 0ca8 08300BE5 		str	r3, [fp, #-8]
 562:../domesdayDuplicator.c **** 
 563:../domesdayDuplicator.c ****     /* Decode the fields from the setup request. */
 564:../domesdayDuplicator.c ****     bReqType = (setupData0 & CY_U3P_USB_REQUEST_TYPE_MASK);
 1606              		.loc 1 564 0
 1607 0cac 18301BE5 		ldr	r3, [fp, #-24]
 1608 0cb0 09304BE5 		strb	r3, [fp, #-9]
 565:../domesdayDuplicator.c ****     bType    = (bReqType & CY_U3P_USB_TYPE_MASK);
 1609              		.loc 1 565 0
 1610 0cb4 09305BE5 		ldrb	r3, [fp, #-9]
 1611 0cb8 603003E2 		and	r3, r3, #96
 1612 0cbc 0A304BE5 		strb	r3, [fp, #-10]
 566:../domesdayDuplicator.c ****     bTarget  = (bReqType & CY_U3P_USB_TARGET_MASK);
 1613              		.loc 1 566 0
 1614 0cc0 09305BE5 		ldrb	r3, [fp, #-9]
 1615 0cc4 033003E2 		and	r3, r3, #3
 1616 0cc8 0B304BE5 		strb	r3, [fp, #-11]
 567:../domesdayDuplicator.c ****     bRequest = ((setupData0 & CY_U3P_USB_REQUEST_MASK) >> CY_U3P_USB_REQUEST_POS);
 1617              		.loc 1 567 0
 1618 0ccc 18301BE5 		ldr	r3, [fp, #-24]
 1619 0cd0 FF3C03E2 		and	r3, r3, #65280
 1620 0cd4 2334A0E1 		mov	r3, r3, lsr #8
 1621 0cd8 0C304BE5 		strb	r3, [fp, #-12]
 568:../domesdayDuplicator.c ****     wValue   = ((setupData0 & CY_U3P_USB_VALUE_MASK)   >> CY_U3P_USB_VALUE_POS);
 1622              		.loc 1 568 0
 1623 0cdc 18301BE5 		ldr	r3, [fp, #-24]
 1624 0ce0 2338A0E1 		mov	r3, r3, lsr #16
 1625 0ce4 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 569:../domesdayDuplicator.c ****     wIndex   = ((setupData1 & CY_U3P_USB_INDEX_MASK)   >> CY_U3P_USB_INDEX_POS);
 1626              		.loc 1 569 0
 1627 0ce8 1C301BE5 		ldr	r3, [fp, #-28]
 1628 0cec B0314BE1 		strh	r3, [fp, #-16]	@ movhi
 570:../domesdayDuplicator.c **** 
 571:../domesdayDuplicator.c ****     // Handle vendor specific requests from the host
 572:../domesdayDuplicator.c ****     if (bType == CY_U3P_USB_VENDOR_RQT) {
 1629              		.loc 1 572 0
 1630 0cf0 0A305BE5 		ldrb	r3, [fp, #-10]	@ zero_extendqisi2
 1631 0cf4 400053E3 		cmp	r3, #64
 1632 0cf8 1900001A 		bne	.L84
 573:../domesdayDuplicator.c ****     	if (glIsApplnActive) {
 1633              		.loc 1 573 0
 1634 0cfc 8C319FE5 		ldr	r3, .L95
 1635 0d00 003093E5 		ldr	r3, [r3]
 1636 0d04 000053E3 		cmp	r3, #0
 1637 0d08 1500000A 		beq	.L84
 574:../domesdayDuplicator.c **** 			// Handle vendor request for collection start/stop
 575:../domesdayDuplicator.c **** 			if (bRequest == 0xB5) {
 1638              		.loc 1 575 0
 1639 0d0c 0C305BE5 		ldrb	r3, [fp, #-12]	@ zero_extendqisi2
 1640 0d10 B50053E3 		cmp	r3, #181
 1641 0d14 1100001A 		bne	.L85
 576:../domesdayDuplicator.c **** 				if (wValue == 1) {
 1642              		.loc 1 576 0
 1643 0d18 BE305BE1 		ldrh	r3, [fp, #-14]
 1644 0d1c 010053E3 		cmp	r3, #1
 1645 0d20 0500001A 		bne	.L86
 577:../domesdayDuplicator.c **** 					// Start collection request from USB host
 578:../domesdayDuplicator.c **** 					CyU3PDebugPrint(8, "START data collection request received from host\r\n");
 1646              		.loc 1 578 0
 1647 0d24 0800A0E3 		mov	r0, #8
 1648 0d28 64119FE5 		ldr	r1, .L95+4
 1649 0d2c FEFFFFEB 		bl	CyU3PDebugPrint
 579:../domesdayDuplicator.c **** 					CyU3PGpioSetValue(18, 0); // nREADY GPIO low
 1650              		.loc 1 579 0
 1651 0d30 1200A0E3 		mov	r0, #18
 1652 0d34 0010A0E3 		mov	r1, #0
 1653 0d38 FEFFFFEB 		bl	CyU3PGpioSetValue
 1654              	.L86:
 580:../domesdayDuplicator.c **** 				}
 581:../domesdayDuplicator.c **** 
 582:../domesdayDuplicator.c **** 				if (wValue == 0) {
 1655              		.loc 1 582 0
 1656 0d3c BE305BE1 		ldrh	r3, [fp, #-14]
 1657 0d40 000053E3 		cmp	r3, #0
 1658 0d44 0500001A 		bne	.L85
 583:../domesdayDuplicator.c **** 					// Stop collection request from USB host
 584:../domesdayDuplicator.c **** 					CyU3PDebugPrint(8, "STOP data collection request received from host\r\n");
 1659              		.loc 1 584 0
 1660 0d48 0800A0E3 		mov	r0, #8
 1661 0d4c 44119FE5 		ldr	r1, .L95+8
 1662 0d50 FEFFFFEB 		bl	CyU3PDebugPrint
 585:../domesdayDuplicator.c **** 					CyU3PGpioSetValue(18, 1); // nREADY GPIO high
 1663              		.loc 1 585 0
 1664 0d54 1200A0E3 		mov	r0, #18
 1665 0d58 0110A0E3 		mov	r1, #1
 1666 0d5c FEFFFFEB 		bl	CyU3PGpioSetValue
 1667              	.L85:
 586:../domesdayDuplicator.c **** 				}
 587:../domesdayDuplicator.c **** 			}
 588:../domesdayDuplicator.c **** 
 589:../domesdayDuplicator.c **** 			// ACK the request
 590:../domesdayDuplicator.c **** 			CyU3PUsbAckSetup();
 1668              		.loc 1 590 0
 1669 0d60 FEFFFFEB 		bl	CyU3PUsbAckSetup
 1670              	.L84:
 591:../domesdayDuplicator.c **** 		}
 592:../domesdayDuplicator.c ****     }
 593:../domesdayDuplicator.c **** 
 594:../domesdayDuplicator.c ****     if (bType == CY_U3P_USB_STANDARD_RQT) {
 1671              		.loc 1 594 0
 1672 0d64 0A305BE5 		ldrb	r3, [fp, #-10]	@ zero_extendqisi2
 1673 0d68 000053E3 		cmp	r3, #0
 1674 0d6c 4300001A 		bne	.L87
 595:../domesdayDuplicator.c ****         // Target interface - Set/clear feature
 596:../domesdayDuplicator.c ****         if ((bTarget == CY_U3P_USB_TARGET_INTF) &&
 1675              		.loc 1 596 0
 1676 0d70 0B305BE5 		ldrb	r3, [fp, #-11]	@ zero_extendqisi2
 1677 0d74 010053E3 		cmp	r3, #1
 1678 0d78 1E00001A 		bne	.L88
 1679              		.loc 1 596 0 is_stmt 0 discriminator 1
 1680 0d7c 0C305BE5 		ldrb	r3, [fp, #-12]	@ zero_extendqisi2
 1681 0d80 030053E3 		cmp	r3, #3
 1682 0d84 0200000A 		beq	.L89
 597:../domesdayDuplicator.c ****         	((bRequest == CY_U3P_USB_SC_SET_FEATURE) || (bRequest == CY_U3P_USB_SC_CLEAR_FEATURE)) &&
 1683              		.loc 1 597 0 is_stmt 1
 1684 0d88 0C305BE5 		ldrb	r3, [fp, #-12]	@ zero_extendqisi2
 1685 0d8c 010053E3 		cmp	r3, #1
 1686 0d90 1800001A 		bne	.L88
 1687              	.L89:
 1688              		.loc 1 597 0 is_stmt 0 discriminator 1
 1689 0d94 BE305BE1 		ldrh	r3, [fp, #-14]
 1690 0d98 000053E3 		cmp	r3, #0
 1691 0d9c 1500001A 		bne	.L88
 598:../domesdayDuplicator.c ****         	(wValue == 0)) {
 599:../domesdayDuplicator.c ****             if (glIsApplnActive) {
 1692              		.loc 1 599 0 is_stmt 1
 1693 0da0 E8309FE5 		ldr	r3, .L95
 1694 0da4 003093E5 		ldr	r3, [r3]
 1695 0da8 000053E3 		cmp	r3, #0
 1696 0dac 0B00000A 		beq	.L90
 600:../domesdayDuplicator.c ****                 CyU3PUsbAckSetup();
 1697              		.loc 1 600 0
 1698 0db0 FEFFFFEB 		bl	CyU3PUsbAckSetup
 601:../domesdayDuplicator.c **** 
 602:../domesdayDuplicator.c ****                 // Force link to U2 on suspend
 603:../domesdayDuplicator.c ****                 if (bRequest == CY_U3P_USB_SC_SET_FEATURE) {
 1699              		.loc 1 603 0
 1700 0db4 0C305BE5 		ldrb	r3, [fp, #-12]	@ zero_extendqisi2
 1701 0db8 030053E3 		cmp	r3, #3
 1702 0dbc 0300001A 		bne	.L91
 604:../domesdayDuplicator.c ****                     glForceLinkU2 = CyTrue;
 1703              		.loc 1 604 0
 1704 0dc0 D4309FE5 		ldr	r3, .L95+12
 1705 0dc4 0120A0E3 		mov	r2, #1
 1706 0dc8 002083E5 		str	r2, [r3]
 1707 0dcc 070000EA 		b	.L93
 1708              	.L91:
 605:../domesdayDuplicator.c ****                 } else {
 606:../domesdayDuplicator.c ****                     glForceLinkU2 = CyFalse;
 1709              		.loc 1 606 0
 1710 0dd0 C4309FE5 		ldr	r3, .L95+12
 1711 0dd4 0020A0E3 		mov	r2, #0
 1712 0dd8 002083E5 		str	r2, [r3]
 1713 0ddc 030000EA 		b	.L93
 1714              	.L90:
 607:../domesdayDuplicator.c ****                 }
 608:../domesdayDuplicator.c ****             }
 609:../domesdayDuplicator.c ****             else CyU3PUsbStall(0, CyTrue, CyFalse);
 1715              		.loc 1 609 0
 1716 0de0 0000A0E3 		mov	r0, #0
 1717 0de4 0110A0E3 		mov	r1, #1
 1718 0de8 0020A0E3 		mov	r2, #0
 1719 0dec FEFFFFEB 		bl	CyU3PUsbStall
 1720              	.L93:
 610:../domesdayDuplicator.c **** 
 611:../domesdayDuplicator.c ****             isHandled = CyTrue;
 1721              		.loc 1 611 0
 1722 0df0 0130A0E3 		mov	r3, #1
 1723 0df4 08300BE5 		str	r3, [fp, #-8]
 1724              	.L88:
 612:../domesdayDuplicator.c ****         }
 613:../domesdayDuplicator.c **** 
 614:../domesdayDuplicator.c ****         // Target end-point - Clear feature request
 615:../domesdayDuplicator.c ****         if ((bTarget == CY_U3P_USB_TARGET_ENDPT) &&
 1725              		.loc 1 615 0
 1726 0df8 0B305BE5 		ldrb	r3, [fp, #-11]	@ zero_extendqisi2
 1727 0dfc 020053E3 		cmp	r3, #2
 1728 0e00 1E00001A 		bne	.L87
 1729              		.loc 1 615 0 is_stmt 0 discriminator 1
 1730 0e04 0C305BE5 		ldrb	r3, [fp, #-12]	@ zero_extendqisi2
 1731 0e08 010053E3 		cmp	r3, #1
 1732 0e0c 1B00001A 		bne	.L87
 616:../domesdayDuplicator.c ****         	(bRequest == CY_U3P_USB_SC_CLEAR_FEATURE) &&
 1733              		.loc 1 616 0 is_stmt 1
 1734 0e10 BE305BE1 		ldrh	r3, [fp, #-14]
 1735 0e14 000053E3 		cmp	r3, #0
 1736 0e18 1800001A 		bne	.L87
 617:../domesdayDuplicator.c ****         	(wValue == CY_U3P_USBX_FS_EP_HALT)) {
 618:../domesdayDuplicator.c ****             if (glIsApplnActive) {
 1737              		.loc 1 618 0
 1738 0e1c 6C309FE5 		ldr	r3, .L95
 1739 0e20 003093E5 		ldr	r3, [r3]
 1740 0e24 000053E3 		cmp	r3, #0
 1741 0e28 1400000A 		beq	.L87
 619:../domesdayDuplicator.c ****                 if (wIndex == CY_FX_EP_CONSUMER) {
 1742              		.loc 1 619 0
 1743 0e2c B0315BE1 		ldrh	r3, [fp, #-16]
 1744 0e30 810053E3 		cmp	r3, #129
 1745 0e34 1100001A 		bne	.L87
 620:../domesdayDuplicator.c ****                     CyU3PDmaChannelReset (&glDmaChHandle);
 1746              		.loc 1 620 0
 1747 0e38 60009FE5 		ldr	r0, .L95+16
 1748 0e3c FEFFFFEB 		bl	CyU3PDmaChannelReset
 621:../domesdayDuplicator.c ****                     CyU3PUsbFlushEp(CY_FX_EP_CONSUMER);
 1749              		.loc 1 621 0
 1750 0e40 8100A0E3 		mov	r0, #129
 1751 0e44 FEFFFFEB 		bl	CyU3PUsbFlushEp
 622:../domesdayDuplicator.c ****                     CyU3PUsbResetEp (CY_FX_EP_CONSUMER);
 1752              		.loc 1 622 0
 1753 0e48 8100A0E3 		mov	r0, #129
 1754 0e4c FEFFFFEB 		bl	CyU3PUsbResetEp
 623:../domesdayDuplicator.c ****                     CyU3PDmaChannelSetXfer(&glDmaChHandle, 0);
 1755              		.loc 1 623 0
 1756 0e50 48009FE5 		ldr	r0, .L95+16
 1757 0e54 0010A0E3 		mov	r1, #0
 1758 0e58 FEFFFFEB 		bl	CyU3PDmaChannelSetXfer
 624:../domesdayDuplicator.c ****                     CyU3PUsbStall (wIndex, CyFalse, CyTrue);
 1759              		.loc 1 624 0
 1760 0e5c B0315BE1 		ldrh	r3, [fp, #-16]	@ movhi
 1761 0e60 FF3003E2 		and	r3, r3, #255
 1762 0e64 0300A0E1 		mov	r0, r3
 1763 0e68 0010A0E3 		mov	r1, #0
 1764 0e6c 0120A0E3 		mov	r2, #1
 1765 0e70 FEFFFFEB 		bl	CyU3PUsbStall
 625:../domesdayDuplicator.c ****                     isHandled = CyTrue;
 1766              		.loc 1 625 0
 1767 0e74 0130A0E3 		mov	r3, #1
 1768 0e78 08300BE5 		str	r3, [fp, #-8]
 626:../domesdayDuplicator.c ****                     CyU3PUsbAckSetup ();
 1769              		.loc 1 626 0
 1770 0e7c FEFFFFEB 		bl	CyU3PUsbAckSetup
 1771              	.L87:
 627:../domesdayDuplicator.c ****                 }
 628:../domesdayDuplicator.c ****             }
 629:../domesdayDuplicator.c ****         }
 630:../domesdayDuplicator.c ****     }
 631:../domesdayDuplicator.c **** 
 632:../domesdayDuplicator.c ****     return isHandled;
 1772              		.loc 1 632 0
 1773 0e80 08301BE5 		ldr	r3, [fp, #-8]
 633:../domesdayDuplicator.c **** }
 1774              		.loc 1 633 0
 1775 0e84 0300A0E1 		mov	r0, r3
 1776 0e88 04D04BE2 		sub	sp, fp, #4
 1777              		@ sp needed
 1778 0e8c 0088BDE8 		ldmfd	sp!, {fp, pc}
 1779              	.L96:
 1780              		.align	2
 1781              	.L95:
 1782 0e90 00000000 		.word	glIsApplnActive
 1783 0e94 64050000 		.word	.LC27
 1784 0e98 98050000 		.word	.LC28
 1785 0e9c 00000000 		.word	glForceLinkU2
 1786 0ea0 00000000 		.word	glDmaChHandle
 1787              		.cfi_endproc
 1788              	.LFE9:
 1790              		.section	.rodata
 1791 05ca 0000     		.align	2
 1792              	.LC29:
 1793 05cc 43595F55 		.ascii	"CY_U3P_USB_EVENT_CONNECT detected\015\012\000"
 1793      33505F55 
 1793      53425F45 
 1793      56454E54 
 1793      5F434F4E 
 1794              		.align	2
 1795              	.LC30:
 1796 05f0 43595F55 		.ascii	"CY_U3P_USB_EVENT_SETCONF detected\015\012\000"
 1796      33505F55 
 1796      53425F45 
 1796      56454E54 
 1796      5F534554 
 1797              		.align	2
 1798              	.LC31:
 1799 0614 43595F55 		.ascii	"CY_U3P_USB_EVENT_DISCONNECT detected\015\012\000"
 1799      33505F55 
 1799      53425F45 
 1799      56454E54 
 1799      5F444953 
 1800 063b 00       		.align	2
 1801              	.LC32:
 1802 063c 554E4B4E 		.ascii	"UNKNOWN USB event detected\015\012\000"
 1802      4F574E20 
 1802      55534220 
 1802      6576656E 
 1802      74206465 
 1803 0659 000000   		.text
 1804              		.align	2
 1805              		.global	domDupUSBEventCB
 1807              	domDupUSBEventCB:
 1808              	.LFB10:
 634:../domesdayDuplicator.c **** 
 635:../domesdayDuplicator.c **** // Callback function to handle USB events
 636:../domesdayDuplicator.c **** void domDupUSBEventCB(CyU3PUsbEventType_t eventType, uint16_t eventData)
 637:../domesdayDuplicator.c **** {
 1809              		.loc 1 637 0
 1810              		.cfi_startproc
 1811              		@ args = 0, pretend = 0, frame = 8
 1812              		@ frame_needed = 1, uses_anonymous_args = 0
 1813 0ea4 00482DE9 		stmfd	sp!, {fp, lr}
 1814              	.LCFI20:
 1815              		.cfi_def_cfa_offset 8
 1816              		.cfi_offset 11, -8
 1817              		.cfi_offset 14, -4
 1818 0ea8 04B08DE2 		add	fp, sp, #4
 1819              	.LCFI21:
 1820              		.cfi_def_cfa 11, 4
 1821 0eac 08D04DE2 		sub	sp, sp, #8
 1822 0eb0 0020A0E1 		mov	r2, r0
 1823 0eb4 0130A0E1 		mov	r3, r1
 1824 0eb8 05204BE5 		strb	r2, [fp, #-5]
 1825 0ebc B8304BE1 		strh	r3, [fp, #-8]	@ movhi
 638:../domesdayDuplicator.c ****     switch (eventType) {
 1826              		.loc 1 638 0
 1827 0ec0 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 1828 0ec4 050053E3 		cmp	r3, #5
 1829 0ec8 03F19F97 		ldrls	pc, [pc, r3, asl #2]
 1830 0ecc 290000EA 		b	.L98
 1831              	.L100:
 1832 0ed0 E80E0000 		.word	.L99
 1833 0ed4 200F0000 		.word	.L101
 1834 0ed8 780F0000 		.word	.L98
 1835 0edc 780F0000 		.word	.L98
 1836 0ee0 200F0000 		.word	.L101
 1837 0ee4 F80E0000 		.word	.L102
 1838              	.L99:
 639:../domesdayDuplicator.c ****     case CY_U3P_USB_EVENT_CONNECT:
 640:../domesdayDuplicator.c **** 		CyU3PDebugPrint(8, "CY_U3P_USB_EVENT_CONNECT detected\r\n");
 1839              		.loc 1 640 0
 1840 0ee8 0800A0E3 		mov	r0, #8
 1841 0eec 9C109FE5 		ldr	r1, .L108
 1842 0ef0 FEFFFFEB 		bl	CyU3PDebugPrint
 641:../domesdayDuplicator.c **** 		break;
 1843              		.loc 1 641 0
 1844 0ef4 230000EA 		b	.L97
 1845              	.L102:
 642:../domesdayDuplicator.c **** 
 643:../domesdayDuplicator.c ****     case CY_U3P_USB_EVENT_SETCONF:
 644:../domesdayDuplicator.c ****     	CyU3PDebugPrint(8, "CY_U3P_USB_EVENT_SETCONF detected\r\n");
 1846              		.loc 1 644 0
 1847 0ef8 0800A0E3 		mov	r0, #8
 1848 0efc 90109FE5 		ldr	r1, .L108+4
 1849 0f00 FEFFFFEB 		bl	CyU3PDebugPrint
 645:../domesdayDuplicator.c ****     	// If the application is already active, stop it
 646:../domesdayDuplicator.c ****         if (glIsApplnActive) {
 1850              		.loc 1 646 0
 1851 0f04 8C309FE5 		ldr	r3, .L108+8
 1852 0f08 003093E5 		ldr	r3, [r3]
 1853 0f0c 000053E3 		cmp	r3, #0
 1854 0f10 0000000A 		beq	.L104
 647:../domesdayDuplicator.c ****             domDupStopApplication();
 1855              		.loc 1 647 0
 1856 0f14 FEFFFFEB 		bl	domDupStopApplication
 1857              	.L104:
 648:../domesdayDuplicator.c ****         }
 649:../domesdayDuplicator.c **** 
 650:../domesdayDuplicator.c ****         // Start the application
 651:../domesdayDuplicator.c ****         domDupStartApplication();
 1858              		.loc 1 651 0
 1859 0f18 FEFFFFEB 		bl	domDupStartApplication
 652:../domesdayDuplicator.c ****         break;
 1860              		.loc 1 652 0
 1861 0f1c 190000EA 		b	.L97
 1862              	.L101:
 653:../domesdayDuplicator.c **** 
 654:../domesdayDuplicator.c ****     case CY_U3P_USB_EVENT_RESET:
 655:../domesdayDuplicator.c ****     case CY_U3P_USB_EVENT_DISCONNECT:
 656:../domesdayDuplicator.c ****         glForceLinkU2 = CyFalse;
 1863              		.loc 1 656 0
 1864 0f20 74309FE5 		ldr	r3, .L108+12
 1865 0f24 0020A0E3 		mov	r2, #0
 1866 0f28 002083E5 		str	r2, [r3]
 657:../domesdayDuplicator.c **** 
 658:../domesdayDuplicator.c ****         // Stop the application
 659:../domesdayDuplicator.c ****         if (glIsApplnActive) {
 1867              		.loc 1 659 0
 1868 0f2c 64309FE5 		ldr	r3, .L108+8
 1869 0f30 003093E5 		ldr	r3, [r3]
 1870 0f34 000053E3 		cmp	r3, #0
 1871 0f38 0000000A 		beq	.L105
 660:../domesdayDuplicator.c ****             domDupStopApplication();
 1872              		.loc 1 660 0
 1873 0f3c FEFFFFEB 		bl	domDupStopApplication
 1874              	.L105:
 661:../domesdayDuplicator.c ****         }
 662:../domesdayDuplicator.c **** 
 663:../domesdayDuplicator.c ****         if (eventType == CY_U3P_USB_EVENT_DISCONNECT) {
 1875              		.loc 1 663 0
 1876 0f40 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 1877 0f44 010053E3 		cmp	r3, #1
 1878 0f48 0200001A 		bne	.L106
 664:../domesdayDuplicator.c ****             CyU3PDebugPrint (8, "CY_U3P_USB_EVENT_DISCONNECT detected\r\n");
 1879              		.loc 1 664 0
 1880 0f4c 0800A0E3 		mov	r0, #8
 1881 0f50 48109FE5 		ldr	r1, .L108+16
 1882 0f54 FEFFFFEB 		bl	CyU3PDebugPrint
 1883              	.L106:
 665:../domesdayDuplicator.c ****         }
 666:../domesdayDuplicator.c **** 
 667:../domesdayDuplicator.c ****         if (eventType == CY_U3P_USB_EVENT_RESET) {
 1884              		.loc 1 667 0
 1885 0f58 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 1886 0f5c 040053E3 		cmp	r3, #4
 1887 0f60 0300001A 		bne	.L107
 668:../domesdayDuplicator.c **** 			CyU3PDebugPrint (8, "CY_U3P_USB_EVENT_DISCONNECT detected\r\n");
 1888              		.loc 1 668 0
 1889 0f64 0800A0E3 		mov	r0, #8
 1890 0f68 30109FE5 		ldr	r1, .L108+16
 1891 0f6c FEFFFFEB 		bl	CyU3PDebugPrint
 669:../domesdayDuplicator.c **** 		}
 670:../domesdayDuplicator.c ****         break;
 1892              		.loc 1 670 0
 1893 0f70 040000EA 		b	.L97
 1894              	.L107:
 1895 0f74 030000EA 		b	.L97
 1896              	.L98:
 671:../domesdayDuplicator.c **** 
 672:../domesdayDuplicator.c ****     default:
 673:../domesdayDuplicator.c ****     	// Unknown/unhandled USB event received
 674:../domesdayDuplicator.c ****     	CyU3PDebugPrint (8, "UNKNOWN USB event detected\r\n");
 1897              		.loc 1 674 0
 1898 0f78 0800A0E3 		mov	r0, #8
 1899 0f7c 20109FE5 		ldr	r1, .L108+20
 1900 0f80 FEFFFFEB 		bl	CyU3PDebugPrint
 675:../domesdayDuplicator.c ****         break;
 1901              		.loc 1 675 0
 1902 0f84 0000A0E1 		mov	r0, r0	@ nop
 1903              	.L97:
 676:../domesdayDuplicator.c ****     }
 677:../domesdayDuplicator.c **** }
 1904              		.loc 1 677 0
 1905 0f88 04D04BE2 		sub	sp, fp, #4
 1906              		@ sp needed
 1907 0f8c 0088BDE8 		ldmfd	sp!, {fp, pc}
 1908              	.L109:
 1909              		.align	2
 1910              	.L108:
 1911 0f90 CC050000 		.word	.LC29
 1912 0f94 F0050000 		.word	.LC30
 1913 0f98 00000000 		.word	glIsApplnActive
 1914 0f9c 00000000 		.word	glForceLinkU2
 1915 0fa0 14060000 		.word	.LC31
 1916 0fa4 3C060000 		.word	.LC32
 1917              		.cfi_endproc
 1918              	.LFE10:
 1920              		.align	2
 1921              		.global	domDupLPMRequestCB
 1923              	domDupLPMRequestCB:
 1924              	.LFB11:
 678:../domesdayDuplicator.c **** 
 679:../domesdayDuplicator.c **** // Callback function to handle LPM requests (unused, always returns true)
 680:../domesdayDuplicator.c **** CyBool_t domDupLPMRequestCB(CyU3PUsbLinkPowerMode linkMode)
 681:../domesdayDuplicator.c **** {
 1925              		.loc 1 681 0
 1926              		.cfi_startproc
 1927              		@ args = 0, pretend = 0, frame = 8
 1928              		@ frame_needed = 1, uses_anonymous_args = 0
 1929              		@ link register save eliminated.
 1930 0fa8 04B02DE5 		str	fp, [sp, #-4]!
 1931              	.LCFI22:
 1932              		.cfi_def_cfa_offset 4
 1933              		.cfi_offset 11, -4
 1934 0fac 00B08DE2 		add	fp, sp, #0
 1935              	.LCFI23:
 1936              		.cfi_def_cfa_register 11
 1937 0fb0 0CD04DE2 		sub	sp, sp, #12
 1938 0fb4 0030A0E1 		mov	r3, r0
 1939 0fb8 05304BE5 		strb	r3, [fp, #-5]
 682:../domesdayDuplicator.c ****     return CyTrue;
 1940              		.loc 1 682 0
 1941 0fbc 0130A0E3 		mov	r3, #1
 683:../domesdayDuplicator.c **** }
 1942              		.loc 1 683 0
 1943 0fc0 0300A0E1 		mov	r0, r3
 1944 0fc4 00D04BE2 		sub	sp, fp, #0
 1945              		@ sp needed
 1946 0fc8 04B09DE4 		ldr	fp, [sp], #4
 1947 0fcc 1EFF2FE1 		bx	lr
 1948              		.cfi_endproc
 1949              	.LFE11:
 1951              	.Letext0:
 1952              		.file 2 "c:\\program files (x86)\\cypress\\ez-usb fx3 sdk\\1.3\\arm gcc\\arm-none-eabi\\include\\s
 1953              		.file 3 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu3
 1954              		.file 4 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyfx
 1955              		.file 5 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/tx_p
 1956              		.file 6 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/tx_a
 1957              		.file 7 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu3
 1958              		.file 8 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu3
 1959              		.file 9 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu3
 1960              		.file 10 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu
 1961              		.file 11 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu
 1962              		.file 12 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu
 1963              		.file 13 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu
 1964              		.file 14 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu
 1965              		.file 15 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu
 1966              		.file 16 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu
 1967              		.file 17 "../domesdayDuplicator.h"
 1968              		.file 18 "../domesdayDuplicatorGpif.h"
DEFINED SYMBOLS
                            *ABS*:00000000 domesdayDuplicator.c
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:21     .data:00000000 CyFxGpifTransition
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:18     .data:00000000 $d
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:29     .data:00000008 CyFxGpifWavedata
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:46     .data:00000038 CyFxGpifWavedataPosition
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:54     .data:0000003c CyFxGpifRegValue
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:136    .rodata:00000000 CyFxGpifConfig
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:133    .rodata:00000000 $d
                            *COM*:000000a8 glAppThread
                            *COM*:000000ac glDmaChHandle
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:154    .bss:00000000 glIsApplnActive
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:151    .bss:00000000 $d
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:160    .bss:00000004 glForceLinkU2
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:163    .text:00000000 $a
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:166    .text:00000000 main
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:423    .text:00000264 domDupThreadInitialise
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1416   .text:00000b54 domDupDebugInit
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:678    .text:00000428 domDupInitialiseApplication
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:541    .text:0000037c $d
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:553    .text:0000038c $a
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:556    .text:0000038c CyFxApplicationDefine
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:617    .text:0000041c $d
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:675    .text:00000428 $a
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1388   .text:00000b38 domDupErrorHandler
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1311   .text:00000a94 domDupStopApplication
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1036   .text:000007c0 domDupStartApplication
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:973    .text:00000750 $d
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1586   .text:00000c90 domDupUSBSetupCB
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1807   .text:00000ea4 domDupUSBEventCB
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1923   .text:00000fa8 domDupLPMRequestCB
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1033   .text:000007c0 $a
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1292   .text:00000a60 $d
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1534   .text:00000c50 GpifDmaEventCB
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1308   .text:00000a94 $a
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1379   .text:00000b2c $d
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1385   .text:00000b38 $a
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1521   .text:00000c4c $d
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1531   .text:00000c50 $a
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1569   .text:00000c8c $d
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1583   .text:00000c90 $a
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1782   .text:00000e90 $d
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1804   .text:00000ea4 $a
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1832   .text:00000ed0 $d
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1840   .text:00000ee8 $a
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1911   .text:00000f90 $d
C:\Users\simon\AppData\Local\Temp\ccXMoHvk.s:1920   .text:00000fa8 $a
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
CyU3PDeviceInit
CyU3PPibInit
CyU3PDeviceCacheControl
CyU3PDeviceConfigureIOMatrix
CyU3PGpioInit
CyU3PDeviceGpioOverride
CyU3PMemSet
CyU3PGpioSetSimpleConfig
_tx_initialize_kernel_enter
CyU3PDebugPrint
CyU3PUsbGetLinkPowerState
CyU3PUsbSetLinkPowerState
_tx_thread_sleep
CyU3PUsbGetSpeed
CyU3PMemAlloc
_txe_thread_create
CyU3PUsbStart
CyU3PUsbRegisterSetupCallback
CyU3PUsbRegisterEventCallback
CyU3PUsbRegisterLPMRequestCallback
CyU3PUsbSetDesc
CyU3PConnectState
USB30DeviceDscr
USB20DeviceDscr
USBBOSDscr
USBDeviceQualDscr
USBSSConfigDscr
USBHSConfigDscr
USBFSConfigDscr
USBStringLangIDDscr
USBManufactureDscr
USBProductDscr
CyU3PSetEpConfig
CyU3PUsbFlushEp
CyU3PDmaChannelCreate
CyU3PDmaChannelSetXfer
CyU3PGpifLoad
CyU3PGpifRegisterCallback
CyU3PGpifSocketConfigure
CyU3PGpifSMStart
CyU3PGpifDisable
CyU3PPibDeInit
CyU3PDmaChannelDestroy
CyU3PUartInit
CyU3PUartSetConfig
CyU3PUartTxSetBlockXfer
CyU3PDebugInit
CyU3PDebugPreamble
CyU3PGpioSetValue
CyU3PUsbAckSetup
CyU3PUsbStall
CyU3PDmaChannelReset
CyU3PUsbResetEp
